//if we're in a web worker
if (typeof importScripts === "function") {
    onmessage = function (event) {
        try {
            var data = event.data;
            if (data.function == "parse") {
                
                var result = exports.parse(data.args[0]);
                postMessage({
                    nonce: data.nonce,
                    data: result
                });
            }
        } catch(e) {
            postMessage({
                nonce: data.nonce,
                error: e.toString()
            });
            throw e;
        }
    }
}

if(typeof exports === "undefined") var exports = {};

// from https://github.com/SaramaJS/sarama.js under MIT License. See https://dinnercodingtime/legal/foss-usage for more information.

var options,input,inputLen,sourceFile,nc;exports.version="0.5.1",exports.parse=function(e,t){return input=String(e),inputLen=input.length,setOptions(t),initTokenState(),nc=getNodeCreator(startNode,startNodeFrom,finishNode,unpackTuple),parseTopLevel(options.program)};var defaultOptions=exports.defaultOptions={languageVersion:3,allowTrailingCommas:!0,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,runtimeParamName:"__pythonRuntime"};function setOptions(e){for(var t in options=e||{},defaultOptions)Object.prototype.hasOwnProperty.call(options,t)||(options[t]=defaultOptions[t]);sourceFile=options.sourceFile||null}var tokPos,tokStart,tokEnd,tokStartLoc,tokEndLoc,tokType,tokVal,tokRegexpAllowed,tokCurLine,tokLineStart,lastStart,lastEnd,lastEndLoc,inFunction,strict,bracketNesting,getLineInfo=exports.getLineInfo=function(e,t){for(var n=1,r=0;;){lineBreak.lastIndex=r;var o=lineBreak.exec(e);if(!(o&&o.index<t))break;++n,r=o.index+o[0].length}return{line:n,column:t-r}};function raise(e,t){var n=getLineInfo(input,e),r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=tokPos,r}exports.tokenize=function(e,t){input=String(e),inputLen=input.length,setOptions(t),initTokenState();var n={};function r(e){return lastEnd=tokEnd,readToken(e),n.start=tokStart,n.end=tokEnd,n.startLoc=tokStartLoc,n.endLoc=tokEndLoc,n.type=tokType,n.value=tokVal,n}return r.jumpTo=function(e,t){var n;if(tokPos=e,options.locations)for(tokCurLine=1,tokLineStart=lineBreak.lastIndex=0;(n=lineBreak.exec(input))&&n.index<e;)++tokCurLine,tokLineStart=n.index+n[0].length;tokRegexpAllowed=t,skipSpace()},r};var empty=[],newAstIdCount=0,indentHist=exports.indentHist={indent:[],dedentCount:0,init:function(){this.indent=[],this.dedentCount=0},count:function(){return this.indent.length},len:function(e){return(void 0===e||e>=this.indent.length)&&(e=this.indent.length-1),this.indent[e].length},isIndent:function(e){return 0===this.indent.length||e.length>this.len()},isDedent:function(e){return this.indent.length>0&&e.length<this.len()},addIndent:function(e){this.indent.push(e)},addDedent:function(e){this.dedentCount=0;for(var t=this.indent.length-1;t>=0&&e.length<this.indent[t].length;--t)++this.dedentCount},updateDedent:function(){this.dedentCount=this.count()},pop:function(){--this.dedentCount,this.indent.pop()},undoIndent:function(){this.pop()}},scope=exports.scope={namespaces:[],init:function(){this.namespaces=[{type:"g",map:{}}]},current:function(e){return e=e||0,this.namespaces[this.namespaces.length-e-1]},startClass:function(e){this.current().map[e]="c",this.namespaces.push({type:"c",map:{},className:e})},startFn:function(e){this.current().map[e]="f",this.namespaces.push({type:"f",map:{},fnName:e})},end:function(){this.namespaces.pop()},addVar:function(e){this.current().map[e]="v"},exists:function(e){return this.current().map.hasOwnProperty(e)},isClass:function(){return"c"===this.current().type},isUserFunction:function(e){for(var t=this.namespaces.length-1;t>=0;t--)for(var n in this.namespaces[t].map)if(n===e&&"f"===this.namespaces[t].map[n])return!0;return!1},isParentClass:function(){return"c"===this.current(1).type},isNewObj:function(e){for(var t=this.namespaces.length-1;t>=0;t--){if("c"===this.namespaces[t].map[e])return!0;if("f"===this.namespaces[t].map[e])break}return!1},getParentClassName:function(){return this.current(1).className},getThisReplace:function(){return this.current().thisReplace},setThisReplace:function(e){this.current().thisReplace=e}},_num={type:"num"},_regexp={type:"regexp"},_string={type:"string"},_name={type:"name"},_eof={type:"eof"},_newline={type:"newline"},_indent={type:"indent"},_dedent={type:"dedent"},_documentationString={type:"documentation-string"},_dict={keyword:"dict"},_as={keyword:"as"},_assert={keyword:"assert"},_break={keyword:"break"},_class={keyword:"class"},_continue={keyword:"continue"},_def={keyword:"def"},_del={keyword:"del"},_elif={keyword:"elif",beforeExpr:!0},_else={keyword:"else",beforeExpr:!0},_except={keyword:"except",beforeExpr:!0},_finally={keyword:"finally"},_for={keyword:"for"},_from={keyword:"from"},_global={keyword:"global"},_if={keyword:"if"},_import={keyword:"import"},_lambda={keyword:"lambda"},_nonlocal={keyword:"nonlocal"},_pass={keyword:"pass"},_raise={keyword:"raise"},_return={keyword:"return",beforeExpr:!0},_try={keyword:"try"},_while={keyword:"while"},_with={keyword:"with"},_yield={keyword:"yield"},_none={keyword:"None",atomValue:null},_true={keyword:"True",atomValue:!0},_false={keyword:"False",atomValue:!1},_or={keyword:"or",prec:1,beforeExpr:!0,rep:"||"},_and={keyword:"and",prec:2,beforeExpr:!0,rep:"&&"},_not={keyword:"not",prec:3,prefix:!0,beforeExpr:!0,rep:"!"},_in={keyword:"in",prec:4,beforeExpr:!0},_is={keyword:"is",prec:4,beforeExpr:!0},keywordTypes={assert:_assert,dict:_dict,False:_false,None:_none,True:_true,and:_and,as:_as,break:_break,class:_class,continue:_continue,def:_def,del:_del,elif:_elif,else:_else,except:_except,finally:_finally,for:_for,from:_from,global:_global,if:_if,import:_import,in:_in,is:_is,lambda:_lambda,nonlocal:_nonlocal,not:_not,or:_or,pass:_pass,raise:_raise,return:_return,try:_try,while:_while,with:_with,yield:_yield},_bracketL={type:"[",beforeExpr:!0},_bracketR={type:"]"},_braceL={type:"{",beforeExpr:!0},_braceR={type:"}"},_parenL={type:"(",beforeExpr:!0},_parenR={type:")"},_comma={type:",",beforeExpr:!0},_semi={type:";",beforeExpr:!0},_colon={type:":",beforeExpr:!0},_dot={type:"."},_question={type:"?",beforeExpr:!0},_slash={prec:10,beforeExpr:!0},_eq={isAssign:!0,beforeExpr:!0},_assign={isAssign:!0,beforeExpr:!0},_equality={prec:4,beforeExpr:!0},_relational={prec:4,beforeExpr:!0},_bitwiseOR={prec:5,beforeExpr:!0},_bitwiseXOR={prec:6,beforeExpr:!0},_bitwiseAND={prec:7,beforeExpr:!0},_bitShift={prec:8,beforeExpr:!0},_plusMin={prec:9,beforeExpr:!0},_multiplyModulo={prec:10,beforeExpr:!0},_floorDiv={prec:10,beforeExpr:!0},_posNegNot={prec:11,prefix:!0,beforeExpr:!0},_bitwiseNOT={prec:11,prefix:!0,beforeExpr:!0},_exponentiation={prec:12,beforeExpr:!0};for(var kw in exports.tokTypes={bracketL:_bracketL,bracketR:_bracketR,braceL:_braceL,braceR:_braceR,parenL:_parenL,parenR:_parenR,comma:_comma,semi:_semi,colon:_colon,dot:_dot,question:_question,slash:_slash,eq:_eq,name:_name,eof:_eof,num:_num,regexp:_regexp,string:_string,documentationString:_documentationString,newline:_newline,indent:_indent,dedent:_dedent,exponentiation:_exponentiation,floorDiv:_floorDiv,plusMin:_plusMin,posNegNot:_posNegNot,multiplyModulo:_multiplyModulo},keywordTypes)exports.tokTypes["_"+kw]=keywordTypes[kw];function makePredicate(e){e=e.split(" ");var t="",n=[];e:for(var r=0;r<e.length;++r){for(var o=0;o<n.length;++o)if(n[o][0].length==e[r].length){n[o].push(e[r]);continue e}n.push([e[r]])}function a(e){if(1==e.length)return t+="return str === "+JSON.stringify(e[0])+";";t+="switch(str){";for(var n=0;n<e.length;++n)t+="case "+JSON.stringify(e[n])+":";t+="return true}return false;"}if(n.length>3){n.sort(function(e,t){return t.length-e.length}),t+="switch(str.length){";for(r=0;r<n.length;++r){var i=n[r];t+="case "+i[0].length+":",a(i)}t+="}"}else a(e);return new Function("str",t)}var containsEsc,isStrictBadIdWord=makePredicate("eval arguments"),isKeyword=makePredicate("dict False None True and as assert break class continue def del elif else except finally for from global if import in is lambda nonlocal not or pass raise return try while with yield"),nonASCIIwhitespace=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,nonASCIIidentifierStartChars="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",nonASCIIidentifierChars="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]"),newline=/[\n\r\u2028\u2029]/,lineBreak=/\r\n|[\n\r\u2028\u2029]/g,isIdentifierStart=exports.isIdentifierStart=function(e){return e<65?36===e:e<91||(e<97?95===e:e<123||e>=170&&nonASCIIidentifierStart.test(String.fromCharCode(e)))},isIdentifierChar=exports.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&nonASCIIidentifier.test(String.fromCharCode(e))))};function Position(){this.line=tokCurLine,this.column=tokPos-tokLineStart}function initTokenState(){tokCurLine=1,tokPos=tokLineStart=0,tokRegexpAllowed=!0,indentHist.init(),newAstIdCount=0,scope.init()}function finishToken(e,t){tokEnd=tokPos,options.locations&&(tokEndLoc=new Position),tokType=e,e!==_parenL&&e!==_braceL&&e!==_bracketL||++bracketNesting,e!==_parenR&&e!==_braceR&&e!==_bracketR||--bracketNesting,e!==_newline&&skipSpace(),tokVal=t,tokRegexpAllowed=e.beforeExpr}function skipLine(){for(var e=input.charCodeAt(++tokPos);tokPos<inputLen&&!isNewline(e);)++tokPos,e=input.charCodeAt(tokPos)}function skipLineComment(){var e=tokPos,t=options.onComment&&options.locations&&new Position;skipLine(),options.onComment&&options.onComment(input.slice(e+1,tokPos),e,tokPos,t,options.locations&&new Position)}function skipSpace(){for(;tokPos<inputLen;){var e=input.charCodeAt(tokPos);if(35===e)skipLineComment();else if(92===e)++tokPos,isNewline(input.charCodeAt(tokPos))?(13===input.charCodeAt(tokPos)&&10===input.charCodeAt(tokPos+1)&&++tokPos,++tokPos,options.location&&(tokLineStart=tokPos,++tokCurLine)):raise(tokPos,"Unexpected character after line continuation character");else if(isSpace(e))++tokPos;else{if(!(bracketNesting>0&&isNewline(e)))break;13===e&&10===input.charCodeAt(tokPos+1)&&++tokPos,++tokPos,options.location&&(tokLineStart=tokPos,++tokCurLine)}}}function isSpace(e){return!!(32===e||9===e||11===e||12===e||160===e||e>=5760&&nonASCIIwhitespace.test(String.fromCharCode(e)))}function isNewline(e){return 10===e||13===e||8232===e||8233===e}function readToken_dot(){var e=input.charCodeAt(tokPos+1);return e>=48&&e<=57?readNumber(!0):(++tokPos,finishToken(_dot))}function readToken_slash(){if(tokRegexpAllowed)return++tokPos,readRegexp();var e=input.charCodeAt(tokPos+1);return 47===e?finishOp(_floorDiv,2):61===e?finishOp(_assign,2):finishOp(_slash,1)}function readToken_mult_modulo(e){var t=input.charCodeAt(tokPos+1);return 42===t&&t===e?finishOp(_exponentiation,2):61===t?finishOp(_assign,2):finishOp(_multiplyModulo,1)}function readToken_pipe_amp(e){return 61===input.charCodeAt(tokPos+1)?finishOp(_assign,2):finishOp(124===e?_bitwiseOR:_bitwiseAND,1)}function readToken_caret(){return 61===input.charCodeAt(tokPos+1)?finishOp(_assign,2):finishOp(_bitwiseXOR,1)}function readToken_plus_min(e){return 61===input.charCodeAt(tokPos+1)?finishOp(_assign,2):finishOp(_plusMin,1)}function readToken_lt_gt(e){var t=input.charCodeAt(tokPos+1),n=1;return t===e?(n=2,61===input.charCodeAt(tokPos+n)?finishOp(_assign,n+1):finishOp(_bitShift,n)):(61===t&&(n=2),finishOp(_relational,n))}function readToken_eq_excl(e){return 61===input.charCodeAt(tokPos+1)?finishOp(_equality,2):finishOp(_eq,1)}function readToken_indent(){for(var e,t,n,r="",o=tokPos;o<inputLen;)if(isSpace(e=input.charCodeAt(o)))r+=String.fromCharCode(e),++o;else if(isNewline(e))r="",13===e&&10===input.charCodeAt(o+1)&&++o,tokPos=++o,options.locations&&(tokLineStart=o,++tokCurLine);else{if(35!==e)break;do{t=input.charCodeAt(++o)}while(o<inputLen&&10!==t)}if(r.length>0)if(indentHist.isIndent(r))n=_indent,indentHist.count()>=1&&(tokStart+=indentHist.len(indentHist.count()-1)),indentHist.addIndent(r);else if(indentHist.isDedent(r)){n=_dedent,indentHist.addDedent(r);var a=indentHist.count()-indentHist.dedentCount;a>=2&&(tokStart+=indentHist.len(a)-indentHist.len(a-1))}else tokPos+=r.length;else o>=inputLen?n=_eof:indentHist.count()>0&&(n=_dedent,indentHist.updateDedent());switch(n){case _indent:case _dedent:return finishOp(n,o-++tokPos);case _eof:return tokPos=inputLen,options.locations&&(tokStartLoc=new Position),finishOp(n,0);default:return tokType=null,readToken()}}function getTokenFromCode(e){switch(e){case 13:case 10:case 8232:case 8233:return++tokPos,13===e&&10===input.charCodeAt(tokPos)&&++tokPos,options.locations&&(++tokCurLine,tokLineStart=tokPos),finishToken(_newline);case 35:return skipLineComment(),readToken();case 46:return readToken_dot();case 40:return++tokPos,finishToken(_parenL);case 41:return++tokPos,finishToken(_parenR);case 59:return++tokPos,finishToken(_semi);case 44:return++tokPos,finishToken(_comma);case 91:return++tokPos,finishToken(_bracketL);case 93:return++tokPos,finishToken(_bracketR);case 123:return++tokPos,finishToken(_braceL);case 125:return++tokPos,finishToken(_braceR);case 58:return++tokPos,finishToken(_colon);case 63:return++tokPos,finishToken(_question);case 48:var t=input.charCodeAt(tokPos+1);if(120===t||88===t)return readHexNumber();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return readNumber(!1);case 34:if(34===input.charCodeAt(tokPos+1)&&34===input.charCodeAt(tokPos+2))return readDocumentationString();case 39:return readString(e);case 47:return readToken_slash(e);case 42:case 37:return readToken_mult_modulo(e);case 124:case 38:return readToken_pipe_amp(e);case 94:return readToken_caret();case 43:case 45:return readToken_plus_min(e);case 60:case 62:return readToken_lt_gt(e);case 61:case 33:return readToken_eq_excl(e);case 126:return finishOp(_bitwiseNOT,1)}return!1}function readToken(e){if(!(tokType===_dedent&&(indentHist.pop(),indentHist.dedentCount>0))){if(e?tokPos=tokStart+1:tokStart=tokPos,options.locations&&(tokStartLoc=new Position),e)return readRegexp();if(tokPos>=inputLen)return finishToken(_eof);if(tokType===_newline)return readToken_indent();var t=input.charCodeAt(tokPos);if(isIdentifierStart(t)||92===t)return readWord();var n=getTokenFromCode(t);if(!1===n){var r=String.fromCharCode(t);if("\\"===r||nonASCIIidentifierStart.test(r))return readWord();raise(tokPos,"Unexpected character '"+r+"'")}return n}}function finishOp(e,t){var n=input.slice(tokPos,tokPos+t);tokPos+=t,finishToken(e,n)}function readRegexp(){for(var e,t,n,r,o=tokPos;;){tokPos>=inputLen&&raise(o,"Unterminated regular expression");var a=input.charAt(tokPos);if(newline.test(a)&&raise(o,"Unterminated regular expression"),t)t=!1;else{if("["===a)n=!0;else if("]"===a&&n)n=!1;else if("/"===a&&!n)break;t="\\"===a}++tokPos}e=input.slice(o,tokPos),++tokPos;var i=readWord1();i&&!/^[gmsiy]*$/.test(i)&&raise(o,"Invalid regular expression flag");try{r=new RegExp(e,i)}catch(e){e instanceof SyntaxError&&raise(o,"Error parsing regular expression: "+e.message),raise(e)}return finishToken(_regexp,r)}function readInt(e,t){for(var n=tokPos,r=0,o=0,a=null==t?1/0:t;o<a;++o){var i,s=input.charCodeAt(tokPos);if((i=s>=97?s-97+10:s>=65?s-65+10:s>=48&&s<=57?s-48:1/0)>=e)break;++tokPos,r=r*e+i}return tokPos===n||null!=t&&tokPos-n!==t?null:r}function readHexNumber(){tokPos+=2;var e=readInt(16);return null==e&&raise(tokStart+2,"Expected hexadecimal number"),isIdentifierStart(input.charCodeAt(tokPos))&&raise(tokPos,"Identifier directly after number"),finishToken(_num,e)}function readNumber(e){var t=tokPos,n=!1,r=48===input.charCodeAt(tokPos);e||null!==readInt(10)||raise(t,"Invalid number"),46===input.charCodeAt(tokPos)&&(++tokPos,readInt(10),n=!0);var o=input.charCodeAt(tokPos);69!==o&&101!==o||(43!==(o=input.charCodeAt(++tokPos))&&45!==o||++tokPos,null===readInt(10)&&raise(t,"Invalid number"),n=!0),isIdentifierStart(input.charCodeAt(tokPos))&&raise(tokPos,"Identifier directly after number");var a,i=input.slice(t,tokPos);return n?a=parseFloat(i):r&&1!==i.length?/[89]/.test(i)||strict?raise(t,"Invalid number"):a=parseInt(i,8):a=parseInt(i,10),finishToken(_num,a)}function readDocumentationString(){var e="";for(tokPos+=3;;){tokPos>=inputLen&&raise(tokStart,"Unterminated documentation string");var t=input.charCodeAt(tokPos);if(34===t&&34===input.charCodeAt(tokPos+1)&&34===input.charCodeAt(tokPos+2))return tokPos+=3,finishToken(_documentationString,e);isNewline(t)?(e+=String.fromCharCode(t),++tokPos,13===t&&10===input.charCodeAt(tokPos)&&(++tokPos,e+="\n"),options.location&&(tokLineStart=tokPos,++tokCurLine)):(e+=String.fromCharCode(t),++tokPos)}}function readString(e){tokPos++;var t=!1;(r=input.charCodeAt(tokPos))===e&&input.charCodeAt(tokPos+1)===e&&(t=!0,tokPos+=2);for(var n="";;){var r;if(tokPos>=inputLen&&raise(tokStart,"Unterminated string constant"),(r=input.charCodeAt(tokPos))===e){if(!t)return++tokPos,finishToken(_string,n);if(input.charCodeAt(tokPos+1)===e&&input.charCodeAt(tokPos+2)===e)return tokPos+=3,finishToken(_string,n)}if(92===r){r=input.charCodeAt(++tokPos);var o=/^[0-7]+/.exec(input.slice(tokPos,tokPos+3));for(o&&(o=o[0]);o&&parseInt(o,8)>255;)o=o.slice(0,-1);if("0"===o&&(o=null),++tokPos,o)strict&&raise(tokPos-2,"Octal literal in strict mode"),n+=String.fromCharCode(parseInt(o,8)),tokPos+=o.length-1;else switch(r){case 110:n+="\n";break;case 114:n+="\r";break;case 120:n+=String.fromCharCode(readHexChar(2));break;case 117:n+=String.fromCharCode(readHexChar(4));break;case 85:(r=readHexChar(8))<65535&&(r<55296||56319<r)?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode(55296+(r>>10))+String.fromCharCode(r%1024+56320));break;case 116:n+="\t";break;case 98:n+="\b";break;case 118:n+="\v";break;case 102:n+="\f";break;case 48:n+="\0";break;case 13:10===input.charCodeAt(tokPos)&&++tokPos;case 10:options.locations&&(tokLineStart=tokPos,++tokCurLine);break;default:n+="\\"+String.fromCharCode(r)}}else isNewline(r)?t?(n+=String.fromCharCode(r),++tokPos,13===r&&10===input.charCodeAt(tokPos)&&(++tokPos,n+="\n"),options.location&&(tokLineStart=tokPos,++tokCurLine)):raise(tokStart,"Unterminated string constant"):(n+=String.fromCharCode(r),++tokPos)}}function readHexChar(e){var t=readInt(16,e);return null===t&&raise(tokStart,"Bad character escape sequence"),t}function readWord1(){containsEsc=!1;for(var e,t=!0,n=tokPos;;){var r=input.charCodeAt(tokPos);if(isIdentifierChar(r))containsEsc&&(e+=input.charAt(tokPos)),++tokPos;else{if(92!==r)break;containsEsc||(e=input.slice(n,tokPos)),containsEsc=!0,117!=input.charCodeAt(++tokPos)&&raise(tokPos,"Expecting Unicode escape sequence \\uXXXX"),++tokPos;var o=readHexChar(4),a=String.fromCharCode(o);a||raise(tokPos-1,"Invalid Unicode escape"),(t?isIdentifierStart(o):isIdentifierChar(o))||raise(tokPos-4,"Invalid Unicode escape"),e+=a}t=!1}return containsEsc?e:input.slice(n,tokPos)}function readWord(){var e=readWord1(),t=_name;return!containsEsc&&isKeyword(e)&&(t=keywordTypes[e]),finishToken(t,e)}function next(){lastStart=tokStart,lastEnd=tokEnd,lastEndLoc=tokEndLoc,readToken()}function setStrict(e){if(strict=e,tokPos=tokStart,options.locations)for(;tokPos<tokLineStart;)tokLineStart=input.lastIndexOf("\n",tokLineStart-2)+1,--tokCurLine;skipSpace(),readToken()}function Node(){this.type=null}function SourceLocation(){this.start=tokStartLoc,this.end=null,null!==sourceFile&&(this.source=sourceFile)}function startNode(){var e=new Node;return options.locations&&(e.loc=new SourceLocation),options.directSourceFile&&(e.sourceFile=options.directSourceFile),options.ranges&&(e.range=[tokStart,0]),e}function finishNode(e,t){return e.type=t,options.locations&&(e.loc.end=lastEndLoc),options.ranges&&(e.range[1]=lastEnd),e}function startNodeFrom(e){var t=new Node;return options.locations&&(t.loc=new SourceLocation,t.loc.start=e.loc.start),options.ranges&&(t.range=[e.range[0],0]),t}exports.Node=Node;var getNodeCreator=exports.getNodeCreator=function(e,t,n,r){return{finishNodeFrom:function(e,t,n){return t.type=n,options.locations&&(t.loc.end=e.loc.end),options.ranges&&(t.range[1]=e.range[1]),t},createNodeFrom:function(e,r,o){var a=t(e);for(var i in o)a[i]=o[i];return n(a,r)},createNodeSpan:function(e,n,r,o){var a=t(e);for(var i in o)a[i]=o[i];return this.finishNodeFrom(n,a,r)},createGeneratedNodeSpan:function(e,n,r,o){var a=t(e);for(var i in o)a[i]=o[i];return a.userCode=!1,this.finishNodeFrom(n,a,r)},createNodeArgsWhileConsequent:function(e,t){var n=this.createGeneratedNodeSpan(e,e,"Identifier",{name:"__realArgCount"+t}),r=this.createGeneratedNodeSpan(e,e,"Identifier",{name:"arguments"}),o=this.createGeneratedNodeSpan(e,e,"Identifier",{name:"__formalsIndex"+t});return this.createGeneratedNodeSpan(e,e,"WhileStatement",{test:this.createGeneratedNodeSpan(e,e,"BinaryExpression",{operator:"<",left:o,right:n}),body:this.createGeneratedNodeSpan(e,e,"BlockStatement",{body:[this.createGeneratedNodeSpan(e,e,"ExpressionStatement",{expression:this.createGeneratedNodeSpan(e,e,"CallExpression",{callee:this.createNodeMembIds(e,e.name,"push"),arguments:[this.createGeneratedNodeSpan(e,e,"MemberExpression",{computed:!0,object:r,property:this.createGeneratedNodeSpan(e,e,"UpdateExpression",{operator:"++",prefix:!1,argument:o})})]})})]})})},createNodeArgsAlternate:function(e,t){var n="__args"+t,r=this.createGeneratedNodeSpan(e,e,"Identifier",{name:"__formalsIndex"+t});return this.createGeneratedNodeSpan(e,e,"BlockStatement",{body:[this.createGeneratedNodeSpan(e,e,"WhileStatement",{test:this.createGeneratedNodeSpan(e,e,"BinaryExpression",{operator:"<",left:r,right:this.createNodeMembIds(e,n,"length")}),body:this.createGeneratedNodeSpan(e,e,"BlockStatement",{body:[this.createGeneratedNodeSpan(e,e,"ExpressionStatement",{expression:this.createGeneratedNodeSpan(e,e,"CallExpression",{callee:this.createNodeMembIds(e,e.name,"push"),arguments:[this.createGeneratedNodeSpan(e,e,"MemberExpression",{computed:!0,object:this.createGeneratedNodeSpan(e,e,"Identifier",{name:n}),property:this.createGeneratedNodeSpan(e,e,"UpdateExpression",{operator:"++",prefix:!1,argument:r})})]})})]})})]})},createNodeFnBodyIife:function(e){var t=this.createGeneratedNodeSpan(e,e,"FunctionExpression",{params:[],defaults:[],body:e,generator:!1,expression:!1}),n=this.createGeneratedNodeSpan(e,e,"CallExpression",{callee:this.createGeneratedNodeSpan(e,e,"MemberExpression",{computed:!1,object:t,property:this.createGeneratedNodeSpan(e,e,"Identifier",{name:"call"})}),arguments:[this.createGeneratedNodeSpan(e,e,"ThisExpression")]});return this.createGeneratedNodeSpan(e,e,"ReturnStatement",{argument:n})},createNodeMemberCall:function(e,t,r,o){var a=this.createNodeFrom(e,"Identifier",{name:t}),i=this.createNodeFrom(e,"Identifier",{name:r}),s=this.createNodeFrom(e,"MemberExpression",{object:a,property:i,computed:!1});return e.callee=s,e.arguments=o,n(e,"CallExpression")},createNodeMembIds:function(e,t,n){return this.createNodeSpan(e,e,"MemberExpression",{computed:!1,object:this.createNodeSpan(e,e,"Identifier",{name:t}),property:this.createNodeSpan(e,e,"Identifier",{name:n})})},createNodeMembIdLit:function(e,t,n){return this.createNodeSpan(e,e,"MemberExpression",{computed:!0,object:this.createNodeSpan(e,e,"Identifier",{name:t}),property:this.createNodeSpan(e,e,"Literal",{value:n})})},createNodeOpsCallee:function(e,t){var n=this.createGeneratedNodeSpan(e,e,"Identifier",{name:options.runtimeParamName}),r=this.createGeneratedNodeSpan(e,e,"Identifier",{name:"ops"}),o=this.createGeneratedNodeSpan(e,e,"Identifier",{name:t}),a=this.createGeneratedNodeSpan(e,e,"MemberExpression",{object:n,property:r,computed:!1});return this.createGeneratedNodeSpan(e,e,"MemberExpression",{object:a,property:o,computed:!1})},createNodeParamsCheck:function(e,t){var n=this.createNodeSpan(e,e,"Identifier",{name:"__params"+t}),r=this.createNodeMembIdLit(e,"arguments",0),o=this.createNodeSpan(e,e,"ConditionalExpression",{test:this.createNodeSpan(e,e,"LogicalExpression",{operator:"&&",left:this.createNodeSpan(e,e,"LogicalExpression",{operator:"&&",left:this.createNodeSpan(e,e,"BinaryExpression",{operator:"===",left:this.createNodeMembIds(e,"arguments","length"),right:this.createNodeSpan(e,e,"Literal",{value:1})}),right:this.createNodeSpan(e,e,"MemberExpression",{computed:!1,object:r,property:this.createNodeSpan(e,e,"Identifier",{name:"formals"})})}),right:this.createNodeSpan(e,e,"MemberExpression",{computed:!1,object:r,property:this.createNodeSpan(e,e,"Identifier",{name:"keywords"})})}),consequent:r,alternate:this.createNodeSpan(e,e,"Literal",{value:null})});return this.createGeneratedVarDeclFromId(e,n,o)},createNodeRuntimeCall:function(e,t,n,r){return this.createNodeSpan(e,e,"CallExpression",{callee:this.createNodeSpan(e,e,"MemberExpression",{computed:!1,object:this.createNodeMembIds(e,options.runtimeParamName,t),property:this.createNodeSpan(e,e,"Identifier",{name:n})}),arguments:r})},createVarDeclFromId:function(e,n,r){var o=t(e);o.id=n,o.init=r,this.finishNodeFrom(e,o,"VariableDeclarator");var a=t(e);return a.kind="var",a.declarations=[o],this.finishNodeFrom(e,a,"VariableDeclaration")},createGeneratedVarDeclFromId:function(e,n,r){var o=t(e);o.id=n,o.init=r,this.finishNodeFrom(e,o,"VariableDeclarator");var a=t(e);return a.kind="var",a.declarations=[o],a.userCode=!1,this.finishNodeFrom(e,a,"VariableDeclaration")},createClass:function(e,t,r,o,a){function i(e){return e.expression&&e.expression.left&&e.expression.left.object&&e.expression.left.object.property&&"prototype"===e.expression.left.object.property.name?e.expression.left.property.name:null}if(1===r.length){var s=this.createNodeSpan(o,o,"Identifier",{name:r[0].name}),p=this.createNodeSpan(o,o,"Identifier",{name:"call"}),c=this.createNodeSpan(o,o,"MemberExpression",{object:s,property:p,computed:!1}),d=this.createNodeSpan(o,o,"ThisExpression"),u=this.createNodeSpan(o,o,"CallExpression",{callee:c,arguments:[d]});this.createNodeSpan(o,o,"ExpressionStatement",{expression:u})}for(var l in a.body){if(P=i(E=a.body[l])){if("__init__"===P){for(var f in E.expression.right.body.body)ctorBlock.body.push(E.expression.right.body.body[f]);t.params=E.expression.right.params}}else t.body.push(E)}if(1===r.length){var h=this.createNodeSpan(t,t,"Identifier",{name:e.id.name}),m=this.createNodeSpan(t,t,"Identifier",{name:"prototype"}),k=this.createNodeSpan(t,t,"MemberExpression",{object:h,property:m,computed:!1}),y=this.createNodeSpan(t,t,"Identifier",{name:r[0].name}),_=this.createNodeSpan(t,t,"Identifier",{name:"prototype"}),b=this.createNodeSpan(t,t,"MemberExpression",{object:y,property:_,computed:!1}),S=this.createNodeSpan(t,t,"Identifier",{name:"Object"}),x=this.createNodeSpan(t,t,"Identifier",{name:"create"}),N=this.createNodeSpan(t,t,"MemberExpression",{object:S,property:x,computed:!1}),g=(u=this.createNodeSpan(t,t,"CallExpression",{callee:N,arguments:[b]}),this.createNodeSpan(t,t,"AssignmentExpression",{left:k,operator:"=",right:u})),v=this.createNodeSpan(t,t,"ExpressionStatement",{expression:g});t.body=v}for(var l in a.body){var E,P;(P=i(E=a.body[l]))&&"__init__"!==P&&t.body.push(E)}return n(t,"ClassBody"),n(e,"ClassDeclaration")},createFor:function(e,t,n,o,a){var i=a,s=JSON.parse(JSON.stringify(i)),p=newAstIdCount++,c=this.createNodeSpan(e,e,"Identifier",{name:"Array"}),d=this.createNodeSpan(t,t,"Identifier",{name:"length"}),u=this.createNodeSpan(t,t,"Literal",{value:0}),l=this.createNodeSpan(o,o,"Identifier",{name:"__filbertRight"+p}),f=this.createVarDeclFromId(o,l,o),h=this.createNodeSpan(t,t,"Identifier",{name:"__filbertRight"+p}),m=this.createNodeSpan(t,t,"Identifier",{name:"__filbertIndex"+p}),k=this.createNodeSpan(t,t,"VariableDeclarator",{id:m,init:u}),y=this.createNodeSpan(t,t,"VariableDeclaration",{declarations:[k],kind:"var"}),_=this.createNodeSpan(t,t,"MemberExpression",{object:h,property:d,computed:!1}),b=this.createNodeSpan(t,t,"BinaryExpression",{left:m,operator:"<",right:_}),S=this.createNodeSpan(t,t,"UpdateExpression",{operator:"++",prefix:!0,argument:m}),x=this.createNodeSpan(t,t,"MemberExpression",{object:h,property:m,computed:!0});if(n)for(var N=(I=r(n,x)).length-1;N>=0;N--)i.body.unshift(I[N]);else if("Identifier"!==t.type||scope.exists(t.name)){var g=this.createNodeSpan(t,t,"AssignmentExpression",{operator:"=",left:t,right:x}),v=this.createNodeSpan(t,t,"ExpressionStatement",{expression:g});i.body.unshift(v)}else scope.addVar(t.name),i.body.unshift(this.createVarDeclFromId(t,t,x));var E=this.createNodeSpan(e,e,"ForStatement",{init:y,test:b,update:S,body:i}),P=this.createNodeSpan(e,e,"BlockStatement",{body:[E]}),C=t;if(n){var I;C=(I=r(n,o))[0];for(N=I.length-1;N>0;N--)s.body.unshift(I[N])}else"Identifier"!==t.type||scope.exists(t.name)||(scope.addVar(t.name),C=this.createVarDeclFromId(t,t,null));var w=this.createNodeSpan(e,e,"ForInStatement",{left:C,right:h,body:s}),T=this.createNodeSpan(e,e,"BlockStatement",{body:[w]}),L=this.createNodeSpan(e,e,"Identifier",{name:"__filbertRight"+p}),A=this.createNodeSpan(e,e,"BinaryExpression",{left:L,operator:"instanceof",right:c}),R=this.createNodeSpan(e,e,"IfStatement",{test:A,consequent:P,alternate:T});return e.body=[f,R],e},createListCompPush:function(e,t){var n=this.createNodeSpan(e,e,"Identifier",{name:"__tmpList"+t}),r=this.createNodeSpan(e,e,"Identifier",{name:"push"}),o=this.createNodeSpan(e,e,"MemberExpression",{object:n,property:r,computed:!1}),a=this.createNodeSpan(e,e,"CallExpression",{callee:o,arguments:[e]});return this.createNodeSpan(e,e,"ExpressionStatement",{expression:a})},createListCompIife:function(e,t,n){var r=this.createNodeSpan(e,e,"Identifier",{name:options.runtimeParamName}),o=this.createNodeSpan(e,e,"Identifier",{name:"objects"}),a=this.createNodeSpan(e,e,"MemberExpression",{object:r,property:o,computed:!1}),i=this.createNodeSpan(e,e,"Identifier",{name:"list"}),s=this.createNodeSpan(e,e,"MemberExpression",{object:a,property:i,computed:!1}),p=this.createNodeSpan(e,e,"NewExpression",{callee:s,arguments:[]}),c=(i=this.createNodeSpan(e,e,"Identifier",{name:"__tmpList"+n}),this.createVarDeclFromId(e,i,p)),d=this.createNodeSpan(e,e,"Identifier",{name:"__tmpList"+n}),u=this.createNodeSpan(e,e,"ReturnStatement",{argument:d}),l=this.createNodeSpan(e,e,"BlockStatement",{body:[c,t,u]}),f=this.createNodeSpan(e,e,"FunctionExpression",{params:[],defaults:[],body:l,generator:!1,expression:!1,computed:!1});return this.createNodeSpan(e,e,"CallExpression",{callee:f,arguments:[]})}}};function eat(e){if(tokType===e)return next(),!0}function expect(e){tokType===e?next():unexpected()}function unexpected(){raise(tokStart,"Unexpected token")}function checkLVal(e){"Identifier"!==e.type&&"MemberExpression"!==e.type&&raise(e.start,"Assigning to rvalue"),strict&&"Identifier"===e.type&&isStrictBadIdWord(e.name)&&raise(e.start,"Assigning to "+e.name+" in strict mode")}function getTupleArgs(e){return e.callee&&e.callee.object&&e.callee.object.object&&e.callee.object.object.name===options.runtimeParamName&&e.callee.property&&"tuple"===e.callee.property.name?e.arguments:null}function unpackTuple(e,t){(!e||e.length<1)&&unexpected();var n=[],r=nc.createNodeSpan(t,t,"Identifier",{name:"__filbertTmp"+newAstIdCount++}),o=nc.createVarDeclFromId(t,r,t);n.push(o);for(var a=0;a<e.length;a++){var i=e[a],s=getTupleArgs(i);if(s)for(var p=nc.createNodeSpan(t,t,"Literal",{value:a}),c=unpackTuple(s,nc.createNodeSpan(t,t,"MemberExpression",{object:r,property:p,computed:!0})),d=0;d<c.length;d++)n.push(c[d]);else{checkLVal(i);var u=nc.createNodeSpan(t,t,"Literal",{value:a}),l=nc.createNodeSpan(t,t,"MemberExpression",{object:r,property:u,computed:!0});if("Identifier"!==i.type||scope.exists(i.name)){var f=startNodeFrom(i);f.left=i,f.operator="=",f.right=l,finishNode(f,"AssignmentExpression"),n.push(nc.createNodeFrom(f,"ExpressionStatement",{expression:f}))}else{scope.addVar(i.name);var h=nc.createVarDeclFromId(i,i,l);n.push(h)}}}return n}function parseTopLevel(e){lastStart=lastEnd=tokPos,options.locations&&(lastEndLoc=new Position),inFunction=strict=null,bracketNesting=0,readToken();var t=e||startNode();for(e||(t.body=[]);tokType!==_eof;){var n=parseStatement();n&&t.body.push(n)}return finishNode(t,"Program")}function parseStatement(){(tokType===_slash||tokType===_assign&&"/="==tokVal)&&readToken(!0);var e=tokType,t=startNode();switch(e){case _break:return next(),finishNode(t,"BreakStatement");case _continue:return next(),finishNode(t,"ContinueStatement");case _class:return next(),parseClass(t);case _def:return next(),parseFunction(t);case _for:return next(),parseFor(t);case _from:return skipLine(),next(),parseStatement();case _if:case _elif:return next(),t.test=tokType===_parenL?parseParenExpression():parseExpression(),expect(_colon),t.consequent=parseSuite(),tokType===_elif?t.alternate=parseStatement():eat(_else)?(expect(_colon),eat(_colon),t.alternate=parseSuite()):t.alternate=null,finishNode(t,"IfStatement");case _import:return skipLine(),next(),parseStatement();case _newline:return next(),null;case _pass:return next(),finishNode(t,"EmptyStatement");case _return:return inFunction||options.allowReturnOutsideFunction||raise(tokStart,"'return' outside of function"),next(),t.argument=tokType===_newline||tokType===_eof?null:parseExpression(),finishNode(t,"ReturnStatement");case _try:if(next(),t.block=parseBlock(),t.handler=null,tokType===_catch){var n=startNode();next(),expect(_parenL),n.param=parseIdent(),strict&&isStrictBadIdWord(n.param.name)&&raise(n.param.start,"Binding "+n.param.name+" in strict mode"),expect(_parenR),n.guard=null,n.body=parseBlock(),t.handler=finishNode(n,"CatchClause")}return t.guardedHandlers=empty,t.finalizer=eat(_finally)?parseBlock():null,t.handler||t.finalizer||raise(t.start,"Missing catch or finally clause"),finishNode(t,"TryStatement");case _while:return next(),t.test=tokType===_parenL?parseParenExpression():parseExpression(),expect(_colon),t.body=parseSuite(),finishNode(t,"WhileStatement");case _with:return strict&&raise(tokStart,"'with' in strict mode"),next(),t.object=parseParenExpression(),t.body=parseStatement(),finishNode(t,"WithStatement");case _semi:return next(),finishNode(t,"EmptyStatement");case _documentationString:return t.leadingComments=parseDocumentationString(token),next(),finishNode(t,"EmptyStatement");default:var r=parseExpression();return tokType!==_semi&&tokType!==_newline&&tokType!==_eof&&unexpected(),"VariableDeclaration"===r.type||"BlockStatement"===r.type?r:(t.expression=r,finishNode(t,"ExpressionStatement"))}}function parseBlock(){var e=startNode();for(e.body=[];tokType!==_dedent&&tokType!==_eof;){var t=parseStatement();t&&e.body.push(t)}return tokType===_dedent&&next(),finishNode(e,"BlockStatement")}function parseSuite(){var e=startNode();if(e.body=[],eat(_newline)){if(tokType===_indent)for(expect(_indent);!eat(_dedent)&&!eat(_eof);){var t=parseStatement();t&&e.body.push(t)}}else tokType!==_eof&&(e.body.push(parseStatement()),next());return finishNode(e,"BlockStatement")}function parseFor(e){var t=parseExpression(!1,!0),n=getTupleArgs(t);n||checkLVal(t),expect(_in);var r=parseExpression();expect(_colon);var o=parseSuite();return finishNode(e,"BlockStatement"),nc.createFor(e,t,n,r,o)}function parseExpression(e,t){return parseMaybeAssign(t)}function parseParenExpression(){expect(_parenL);var e=parseExpression();return expect(_parenR),e}function parseMaybeAssign(e){var t=parseMaybeTuple(e);if(tokType.isAssign){var n=getTupleArgs(t);if(n){next();var r=parseMaybeTuple(e),o=startNodeFrom(t);return o.body=unpackTuple(n,r),finishNode(o,"BlockStatement")}if(scope.isClass()){var a=nc.createNodeFrom(t,"ThisExpression");t=nc.createNodeFrom(t,"MemberExpression",{object:a,property:t})}var i=startNodeFrom(t);if(i.operator=tokVal,i.left=t,next(),i.right=parseMaybeTuple(e),checkLVal(t),"+="===i.operator||"*="===i.operator)(r=nc.createNodeSpan(i.right,i.right,"CallExpression")).callee=nc.createNodeOpsCallee(r,"+="===i.operator?"add":"multiply"),r.arguments=[t,i.right],i.right=r,i.operator="=";return"Identifier"!==t.type||scope.exists(t.name)?finishNode(i,"AssignmentExpression"):((!i.operator||i.operator.length>1)&&unexpected(),scope.addVar(t.name),nc.createVarDeclFromId(i.left,i.left,i.right))}return t}function parseMaybeTuple(e){var t=parseExprOps(e);return tokType===_comma?parseTuple(e,t):t}function parseExprOps(e){return parseExprOp(parseMaybeUnary(e),-1,e)}function parseExprOp(e,t,n){var r,o,a,i=tokType,s=tokVal,p=i===_not?_in.prec:i.prec;if(i===_exponentiation&&p>=t)return r=startNodeFrom(e),next(),a=parseExprOp(parseMaybeUnary(n),p,n),parseExprOp(o=nc.createNodeMemberCall(r,"Math","pow",[e,a]),t,n);if(null!=p&&(!n||i!==_in)&&p>t){if(next(),r=startNodeFrom(e),i===_floorDiv){a=parseExprOp(parseMaybeUnary(n),p,n),finishNode(r);var c=nc.createNodeSpan(r,r,"BinaryExpression",{left:e,operator:"/",right:a});o=nc.createNodeMemberCall(r,"Math","floor",[c])}else if(i===_in||i===_not)if(i===_in||eat(_in)){a=parseExprOp(parseMaybeUnary(n),p,n),finishNode(r);var d=nc.createNodeSpan(r,r,"Literal",{value:i===_not});o=nc.createNodeRuntimeCall(r,"ops","in",[e,a,d])}else raise(tokPos,"Expected 'not in' comparison operator");else i===_plusMin&&"+"===s||i===_multiplyModulo&&"*"===s?(a=parseExprOp(parseMaybeUnary(n),p,n),r.arguments=[e,a],finishNode(r,"CallExpression"),r.callee=nc.createNodeOpsCallee(r,i===_plusMin?"add":"multiply"),o=r):(i===_is?eat(_not)?r.operator="!==":r.operator="===":r.operator=null!=i.rep?i.rep:s,r.left=e,r.right=parseExprOp(parseMaybeUnary(n),p,n),o=finishNode(r,i===_or||i===_and?"LogicalExpression":"BinaryExpression"));return parseExprOp(o,t,n)}return e}function parseMaybeUnary(e){if(tokType.prefix||tokType===_plusMin){var t=tokType===_plusMin?_posNegNot.prec:tokType.prec,n=startNode();return n.operator=null!=tokType.rep?tokType.rep:tokVal,n.prefix=!0,tokRegexpAllowed=!0,next(),n.argument=parseExprOp(parseMaybeUnary(e),t,e),finishNode(n,"UnaryExpression")}return parseSubscripts(parseExprAtom())}function parseSubscripts(e,t){var n=startNodeFrom(e);if(eat(_dot)){var r=parseIdent(!0);if(pythonRuntime.imports[e.name]&&pythonRuntime.imports[e.name][r.name]){var o=nc.createNodeSpan(e,e,"Identifier",{name:options.runtimeParamName}),a=nc.createNodeSpan(e,e,"Identifier",{name:"imports"}),i=nc.createNodeSpan(e,e,"MemberExpression",{object:o,property:a,computed:!1});n.object=nc.createNodeSpan(e,e,"MemberExpression",{object:i,property:e,computed:!1})}else e.name&&e.name===scope.getThisReplace()?n.object=nc.createNodeSpan(e,e,"ThisExpression"):n.object=e;return n.property=r,n.computed=!1,parseSubscripts(finishNode(n,"MemberExpression"),t)}if(eat(_bracketL)){var s,p=!1;if(eat(_colon)?p=!0:s=parseExpression(),!p&&eat(_colon)&&(p=!0),p)return parseSlice(n,e,s,t);var c=nc.createNodeSpan(s,s,"CallExpression");return c.callee=nc.createNodeOpsCallee(s,"subscriptIndex"),c.arguments=[e,s],n.object=e,n.property=c,n.computed=!0,expect(_bracketR),parseSubscripts(finishNode(n,"MemberExpression"),t)}if(!t&&eat(_parenL)){if(scope.isUserFunction(e.name)){for(var d=parseParamsList(),u=[],l=[],f=0;f<d.length;++f)d[f].isntFormal?l.push(d[f]):u.push(d[f]);if(l.length>0){var h=nc.createNodeRuntimeCall(n,"utils","createParamsObj",l);u.push(h)}n.arguments=u}else n.arguments=parseExprList(_parenR,!1);if("len"===e.name&&1===n.arguments.length)return n.type="MemberExpression",n.object=n.arguments[0],n.property=nc.createNodeSpan(e,e,"Identifier",{name:"length"}),n.computed=!1,delete n.arguments,delete n.callee,finishNode(n,"MemberExpression"),n;if(scope.isNewObj(e.name)?finishNode(n,"NewExpression"):finishNode(n,"CallExpression"),pythonRuntime.functions[e.name]){"Identifier"!==e.type&&unexpected();o=nc.createNodeSpan(e,e,"Identifier",{name:options.runtimeParamName});var m=nc.createNodeSpan(e,e,"Identifier",{name:"functions"});i=nc.createNodeSpan(e,e,"MemberExpression",{object:o,property:m,computed:!1});n.callee=nc.createNodeSpan(e,e,"MemberExpression",{object:i,property:e,computed:!1})}else n.callee=e;return parseSubscripts(n,t)}return e}function parseSlice(e,t,n,r){var o,a;n||(n=nc.createNodeFrom(e,"Literal",{value:null})),tokType===_bracketR||eat(_colon)?o=nc.createNodeFrom(e,"Literal",{value:null}):(o=parseExpression(),tokType!==_bracketR&&expect(_colon)),a=tokType===_bracketR?nc.createNodeFrom(e,"Literal",{value:null}):parseExpression(),expect(_bracketR),e.arguments=[n,o,a];var i=nc.createNodeFrom(t,"Identifier",{name:"_pySlice"}),s=nc.createNodeSpan(t,t,"MemberExpression",{object:t,property:i,computed:!1});return e.callee=s,parseSubscripts(finishNode(e,"CallExpression"),r)}function parseExprAtom(){switch(tokType){case _dict:return next(),parseDict(_parenR);case _name:return parseIdent();case _num:case _string:case _regexp:return(n=startNode()).value=tokVal,n.raw=input.slice(tokStart,tokEnd),next(),finishNode(n,"Literal");case _none:case _true:case _false:return(n=startNode()).value=tokType.atomValue,n.raw=tokType.keyword,next(),finishNode(n,"Literal");case _parenL:var e=tokStartLoc,t=tokStart;if(next(),tokType===_parenR){var n=parseTuple(!1);return eat(_parenR),n}var r=parseMaybeTuple(!1);return options.locations&&(r.loc.start=e,r.loc.end=tokEndLoc),options.ranges&&(r.range=[t,tokEnd]),expect(_parenR),r;case _bracketL:return parseList();case _braceL:return parseDict(_braceR);case _indent:raise(tokStart,"Unexpected indent");case _else:raise(tokPos,"`else` needs to line up with its `if`.");default:unexpected()}}function parseList(){var e=startNode();if(e.arguments=[],next(),!eat(_bracketR)){var t=parseExprOps(!1);if(tokType===_for||tokType===_if){var n=newAstIdCount++,r=parseCompIter(t=nc.createListCompPush(t,n),!0);return finishNode(e),nc.createListCompIife(e,r,n)}eat(_comma)?e.arguments=[t].concat(parseExprList(_bracketR,!0,!1)):(expect(_bracketR),e.arguments=[t])}finishNode(e,"NewExpression");var o=nc.createNodeSpan(e,e,"Identifier",{name:options.runtimeParamName}),a=nc.createNodeSpan(e,e,"Identifier",{name:"objects"}),i=nc.createNodeSpan(e,e,"MemberExpression",{object:o,property:a,computed:!1}),s=nc.createNodeSpan(e,e,"Identifier",{name:"list"});return e.callee=nc.createNodeSpan(e,e,"MemberExpression",{object:i,property:s,computed:!1}),e}function parseCompIter(e,t){if(t&&tokType!==_for&&unexpected(),eat(_bracketR))return e;var n=startNode();if(eat(_for)){var r=parseExpression(!1,!0),o=getTupleArgs(r);o||checkLVal(r),expect(_in);var a=parseExpression(),i=parseCompIter(e,!1),s=nc.createNodeSpan(i,i,"BlockStatement",{body:[i]});return finishNode(n,"BlockStatement"),nc.createFor(n,r,o,a,s)}if(eat(_if))return n.test=tokType===_parenL?parseParenExpression():parseExpression(),n.consequent=parseCompIter(e,!1),finishNode(n,"IfStatement");unexpected()}function parseClass(e){var t=startNodeFrom(e);t.body=e,t.id=parseIdent(),e.params=[],e.body=[];var n=[];if(eat(_parenL))for(var r=!0;!eat(_parenR);)r?r=!1:expect(_comma),n.push(parseIdent());n.length>1&&raise(tokPos,"Multiple inheritance not supported"),expect(_colon),scope.startClass(t.id.name);var o=finishNode(startNode()),a=parseSuite(),i=nc.createClass(t,e,n,o,a);return scope.end(),i}function parseDict(e){var t,n,r=startNode(),o=!0;for(r.arguments=[],next();!eat(e);){if(o?o=!1:expect(_comma),e===_braceR)t=parsePropertyName(),expect(_colon),n=parseExprOps(!1);else if(e===_parenR){var a=parseIdent(!0);(t=startNodeFrom(a)).value=a.name,finishNode(t,"Literal"),expect(_eq),n=parseExprOps(!1)}else unexpected();r.arguments.push(nc.createNodeSpan(t,n,"ArrayExpression",{elements:[t,n]}))}finishNode(r,"NewExpression");var i=nc.createNodeSpan(r,r,"Identifier",{name:options.runtimeParamName}),s=nc.createNodeSpan(r,r,"Identifier",{name:"objects"}),p=nc.createNodeSpan(r,r,"MemberExpression",{object:i,property:s,computed:!1}),c=nc.createNodeSpan(r,r,"Identifier",{name:"dict"});return r.callee=nc.createNodeSpan(r,r,"MemberExpression",{object:p,property:c,computed:!1}),r}function parsePropertyName(){return tokType===_num||tokType===_string?parseExprAtom():parseIdent(!0)}function parseFunction(e){var t=newAstIdCount++;e.id=parseIdent(),e.params=[];var n=[],r=null,o=null,a=!1,i=!0;for(scope.startFn(e.id.name),expect(_parenL);!eat(_parenR);)if(i?i=!1:expect(_comma),"*"===tokVal)o&&raise(tokPos,"invalid syntax"),next(),r=parseIdent();else if("**"===tokVal)next(),o=parseIdent();else{o&&raise(tokPos,"invalid syntax");var s=parseIdent();eat(_eq)?(n.push({id:s,expr:parseExprOps(!1)}),a=!0):(a&&raise(tokPos,"non-default argument follows default argument"),r&&raise(tokPos,"missing required keyword-only argument"),n.push({id:s,expr:null})),scope.addVar(s.name)}expect(_colon);var p=inFunction=!0;if(scope.isParentClass()){var c=n.shift();scope.setThisReplace(c.id.name)}var d=parseSuite();e.body=nc.createNodeSpan(d,d,"BlockStatement",{body:[]});var u=e.id,l=nc.createNodeSpan(u,u,"Identifier",{name:"__hasParams"+t}),f=nc.createNodeSpan(e.id,e.id,"Identifier",{name:"__params"+t}),h=nc.createNodeSpan(e.id,e.id,"Identifier",{name:"__realArgCount"+t}),m=[];if(n.length>0||r||o){var k=nc.createNodeSpan(u,u,"BinaryExpression",{operator:"-",left:nc.createNodeMembIds(u,"arguments","length"),right:nc.createNodeSpan(u,u,"Literal",{value:1})}),y=nc.createNodeSpan(u,u,"MemberExpression",{computed:!0,object:nc.createNodeSpan(u,u,"Identifier",{name:"arguments"}),property:k}),_=nc.createNodeSpan(u,u,"LogicalExpression",{operator:"&&",left:nc.createNodeSpan(u,u,"LogicalExpression",{operator:"&&",left:nc.createNodeSpan(u,u,"BinaryExpression",{operator:">",left:nc.createNodeMembIds(u,"arguments","length"),right:nc.createNodeSpan(u,u,"Literal",{value:0})}),right:y}),right:nc.createNodeSpan(u,u,"MemberExpression",{computed:!1,object:y,property:nc.createNodeSpan(u,u,"Identifier",{name:"keywords"})})});e.body.body.push(nc.createGeneratedVarDeclFromId(u,l,_));var b=nc.createNodeSpan(u,u,"ConditionalExpression",{test:l,consequent:nc.createNodeSpan(u,u,"MemberExpression",{computed:!1,object:y,property:nc.createNodeSpan(u,u,"Identifier",{name:"keywords"})}),alternate:nc.createNodeSpan(u,u,"ObjectExpression",{properties:[]})});m.push(nc.createGeneratedVarDeclFromId(u,f,b));var S=nc.createGeneratedVarDeclFromId(e.id,h,nc.createNodeSpan(e.id,e.id,"BinaryExpression",{operator:"-",left:nc.createNodeMembIds(e.id,"arguments","length"),right:nc.createNodeSpan(e.id,e.id,"ConditionalExpression",{test:l,consequent:nc.createNodeSpan(e.id,e.id,"Literal",{value:1}),alternate:nc.createNodeSpan(e.id,e.id,"Literal",{value:0})})}));m.push(S)}for(var x=0;x<n.length;++x){e.params.push(n[x].id);for(var N=0;N<x;++N)n[x].id.name===n[N].id.name&&raise(n[x].id.start,"Argument name clash")}var g,v=!0;for(x=0;x<n.length;++x){n[x].expr&&(v=!1);var E=nc.createNodeSpan(e.id,e.id,"Identifier",{name:n[x].id.name}),P=nc.createNodeSpan(e.id,e.id,"Literal",{value:n[x].id.name}),C=nc.createNodeSpan(e.id,e.id,"AssignmentExpression",{operator:"=",left:E,right:nc.createNodeSpan(e.id,e.id,"ConditionalExpression",{test:nc.createNodeSpan(e.id,e.id,"BinaryExpression",{operator:"in",left:P,right:f}),consequent:nc.createNodeSpan(e,e,"MemberExpression",{object:f,property:P,computed:!0}),alternate:n[x].expr?n[x].expr:nc.createNodeSpan(e.id,e.id,"Identifier",{name:"undefined"})})}),I=nc.createNodeSpan(e.id,e.id,"IfStatement",{test:nc.createNodeSpan(e.id,e.id,"BinaryExpression",{operator:"<",left:h,right:nc.createNodeSpan(e.id,e.id,"Literal",{value:x+1})}),consequent:nc.createNodeSpan(e.id,e.id,"ExpressionStatement",{expression:C})});m.push(I)}if(m.length>0&&(v?e.body.body.push(nc.createNodeSpan(e.id,e.id,"IfStatement",{test:l,consequent:nc.createNodeSpan(e.id,e.id,"BlockStatement",{body:m})})):Array.prototype.push.apply(e.body.body,m)),r){e.body.body.push(nc.createGeneratedVarDeclFromId(e.id,nc.createNodeSpan(e.id,e.id,"Identifier",{name:"__formalsIndex"+t}),nc.createNodeSpan(e.id,e.id,"Literal",{value:n.length})));var w=nc.createGeneratedVarDeclFromId(r,r,nc.createNodeSpan(r,r,"ArrayExpression",{elements:[]}));e.body.body.push(w),e.body.body.push(nc.createNodeArgsWhileConsequent(r,t))}if(o){for(x=0;x<n.length;++x){var T=nc.createNodeSpan(o,o,"ExpressionStatement",{expression:nc.createNodeSpan(o,o,"UnaryExpression",{operator:"delete",prefix:!0,argument:nc.createNodeSpan(o,o,"MemberExpression",{object:f,property:nc.createNodeSpan(e.id,e.id,"Identifier",{name:n[x].id.name}),computed:!1})})});e.body.body.push(T)}var L=nc.createGeneratedVarDeclFromId(o,o,f);e.body.body.push(L)}if(e.body.body.push.apply(e.body.body,d.body),inFunction=p,scope.isParentClass()){finishNode(e);nc.createNodeSpan(e,e,"Identifier",{name:scope.getParentClassName()});var A=nc.createNodeSpan(e,e,"Identifier",{name:"prototype"}),R=e.id,j=nc.createNodeSpan(e,e,"MemberExpression",{property:A,computed:!1}),O=nc.createNodeSpan(e,e,"MemberExpression",{object:j,property:R,computed:!1}),M=nc.createNodeSpan(e,e,"FunctionExpression",{body:e.body,params:e.params}),F=nc.createNodeSpan(e,e,"AssignmentExpression",{left:O,operator:"=",right:M});g=nc.createNodeSpan(e,e,"ExpressionStatement",{expression:F})}else g=finishNode(e,"FunctionDeclaration");return scope.end(),g}function parseExprList(e,t,n){for(var r=[],o=!0;!eat(e);){if(o)o=!1;else if(expect(_comma),t&&options.allowTrailingCommas&&eat(e))break;n&&tokType===_comma?r.push(null):r.push(parseExprOps(!1))}return r}function parseParamsList(){for(var e=[],t=!0;!eat(_parenR);){t?t=!1:expect(_comma);var n=parseExprOps(!1);if(eat(_eq)){var r=parseExprOps(!1),o=nc.createNodeSpan(n,r,"Identifier",{name:"__kwp"}),a=nc.createNodeSpan(n,r,"Literal",{value:!0}),i=nc.createNodeSpan(n,r,"ObjectExpression",{properties:[]});i.isntFormal=!0,i.properties.push({type:"Property",key:n,value:r,kind:"init"}),i.properties.push({type:"Property",key:o,value:a,kind:"init"}),n=i}e.push(n)}return e}function parseIdent(e){var t=startNode();return e&&(e=!1),tokType===_name?(!e&&strict&&-1==input.slice(tokStart,tokEnd).indexOf("\\")&&raise(tokStart,"The keyword '"+tokVal+"' is reserved"),t.name=tokVal):e&&tokType.keyword?t.name=tokType.keyword:unexpected(),tokRegexpAllowed=!1,next(),finishNode(t,"Identifier")}function parseTuple(e,t){var n=t?startNodeFrom(t):startNode();if(n.arguments=t?[t]:[],tokType===_comma){var r=tokPos;skipSpace();var o=tokPos;tokPos=r,(o>=inputLen||";"===input[o]||")"===input[o]||newline.test(input[o]))&&eat(_comma)}for(;eat(_comma);)n.arguments.push(parseExprOps(e));finishNode(n,"NewExpression");var a=nc.createNodeSpan(n,n,"Identifier",{name:options.runtimeParamName}),i=nc.createNodeSpan(n,n,"Identifier",{name:"objects"}),s=nc.createNodeSpan(n,n,"MemberExpression",{object:a,property:i,computed:!1}),p=nc.createNodeSpan(n,n,"Identifier",{name:"tuple"});return n.callee=nc.createNodeSpan(n,n,"MemberExpression",{object:s,property:p,computed:!1}),n}var pythonRuntime=exports.pythonRuntime={internal:{isSeq:function(e){return e&&("list"===e._type||"tuple"===e._type)},slice:function(e,t,n,r){null!=r&&0!==r||(r=1),null==t?t=r<0?e.length-1:0:t<0&&(t+=e.length),null==n?n=r<0?-1:e.length:n<0&&(n+=e.length);var o,a,i=new pythonRuntime.objects.list;if(r<0)for(a=(o=e.slice(n+1,t+1)).length-1;a>=0;a+=r)i.append(o[a]);else if(o=e.slice(t,n),1===r)i=pythonRuntime.utils.createList(o);else for(a=0;a<o.length;a+=r)i.append(o[a]);return i},isJSArray:Array.isArray||function(e){return"[object Array]"===toString.call(e)}},utils:{createDict:function(){var e=new pythonRuntime.objects.dict;if(!(1===arguments.length&&arguments[0]instanceof Object))throw TypeError("createDict expects a single JavaScript object");for(var t in arguments[0])e[t]=arguments[0][t];return e},createParamsObj:function(){for(var e={formals:new pythonRuntime.objects.list,keywords:new PythonDict},t=0;t<arguments.length;t++)if(arguments[t]&&!0===arguments[t].__kwp)for(var n in arguments[t])"__kwp"!==n&&(e.keywords[n]=arguments[t][n]);else e.formals.push(arguments[t]);return e},convertToList:function(e){return Object.defineProperties(e,pythonRuntime.utils.listPropertyDescriptor),e},convertToDict:function(e){return Object.defineProperties(e,pythonRuntime.utils.dictPropertyDescriptor),e},listPropertyDescriptor:{_type:{get:function(){return"list"},enumerable:!1},_isPython:{get:function(){return!0},enumerable:!1},append:{value:function(e){this.push(e)},enumerable:!1},clear:{value:function(){this.splice(0,this.length)},enumerable:!1},copy:{value:function(){return this.slice(0)},enumerable:!1},count:{value:function(e){for(var t=0,n=0;n<this.length;n++)this[n]===e&&t++;return t},enumerable:!1},equals:{value:function(e){try{if(this.length!==e.length)return!1;for(var t=0;t<this.length;t++)if(this[t].hasOwnProperty("equals")){if(!this[t].equals(e[t]))return!1}else if(this[t]!==e[t])return!1;return!0}catch(e){}return!1},enumerable:!1},extend:{value:function(e){for(var t=0;t<e.length;t++)this.push(e[t])},enumerable:!1},index:{value:function(e){return this.indexOf(e)},enumerable:!1},indexOf:{value:function(e,t){try{for(var n=t||0;n<this.length;n++)if(this[n].hasOwnProperty("equals")){if(this[n].equals(e))return n}else if(this[n]===e)return n}catch(e){}return-1},enumerable:!1},insert:{value:function(e,t){this.splice(e,0,t)},enumerable:!1},pop:{value:function(e){e||(e=this.length-1);var t=this[e];return this.splice(e,1),t},enumerable:!1},_pySlice:{value:function(e,t,n){return pythonRuntime.internal.slice(this,e,t,n)},enumerable:!1},remove:{value:function(e){this.splice(this.indexOf(e),1)},enumerable:!1},sort:{value:function(e,t){var n=this.slice(0),r=function(t,r){var o=n.map(e),a={};for(var i in o)a[o[i]]=n[i];for(var i in r?o.sort(function(e,t){return e-t}):o.sort(),t)t[i]=a[o[i]]};for(var o in this)if("number"!=typeof this[o]||!isFinite(this[o])){if(void 0!==e)r(this,!1);else for(var a in n.sort(),this)this[a]=n[a];return void(t&&this.reverse())}if(void 0!==e)r(this,!0);else for(var o in n.sort(function(e,t){return e-t}),this)this[o]=n[o];t&&this.reverse()},enumerable:!1},toString:{value:function(){return"["+this.join(", ")+"]"},enumerable:!1}},createList:function(){var e=new pythonRuntime.objects.list;if(1===arguments.length&&arguments[0]instanceof Array)for(var t in arguments[0])e.push(arguments[0][t]);else for(var t in arguments)e.push(arguments[t]);return e},dictPropertyDescriptor:{_type:{get:function(){return"dict"},enumerable:!1},_isPython:{get:function(){return!0},enumerable:!1},items:{value:function(){var e=new pythonRuntime.objects.list;for(var t in this)e.append(new pythonRuntime.objects.tuple(t,this[t]));return e},enumerable:!1},length:{get:function(){return Object.keys(this).length},enumerable:!1},clear:{value:function(){for(var e in this)delete this[e]},enumerable:!1},get:{value:function(e,t){return e in this?this[e]:void 0!==t?t:null},enumerable:!1},keys:{value:function(){return Object.keys(this)},enumerable:!1},pop:{value:function(e,t){var n;if(e in this)n=this[e],delete this[e];else{if(void 0===t)return new Error("KeyError");n=t}return n},enumerable:!1},values:{value:function(){var e=new pythonRuntime.objects.list;for(var t in this)e.append(this[t]);return e},enumerable:!1}}},ops:{add:function(e,t){if("object"==typeof e&&pythonRuntime.internal.isSeq(e)&&pythonRuntime.internal.isSeq(t)){if(e._type!==t._type)throw TypeError("can only concatenate "+e._type+" (not '"+t._type+"') to "+e._type);var n;if("list"===e._type?n=new pythonRuntime.objects.list:"tuple"===e._type&&(n=new pythonRuntime.objects.tuple),n){for(var r=0;r<e.length;r++)n.push(e[r]);for(r=0;r<t.length;r++)n.push(t[r]);return n}}return e+t},in:function(e,t,n){var r=t.hasOwnProperty("indexOf")?t.indexOf(e)>=0:e in t;return n?!r:r},multiply:function(e,t){if("object"==typeof e)if(pythonRuntime.internal.isSeq(e)&&!isNaN(parseInt(t))){if("list"===e._type?o=new pythonRuntime.objects.list:"tuple"===e._type&&(o=new pythonRuntime.objects.tuple),o){for(var n=0;n<t;n++)for(var r=0;r<e.length;r++)o.push(e[r]);return o}}else if(pythonRuntime.internal.isSeq(t)&&!isNaN(parseInt(e))){var o;if("list"===t._type?o=new pythonRuntime.objects.list:"tuple"===t._type&&(o=new pythonRuntime.objects.tuple),o){for(n=0;n<e;n++)for(r=0;r<t.length;r++)o.push(t[r]);return o}}return e*t},subscriptIndex:function(e,t){return t>=0?t:pythonRuntime.internal.isSeq(e)?e.length+t:pythonRuntime.internal.isJSArray(e)?e.length+t:"string"==typeof e?e.length+t:t}},objects:{dict:function(){for(var e=new PythonDict,t=0;t<arguments.length;++t)e[arguments[t][0]]=arguments[t][1];return e},list:function(){var e=[];return e.push.apply(e,arguments),pythonRuntime.utils.convertToList(e),e},tuple:function(){var e=[];return e.push.apply(e,arguments),Object.defineProperty(e,"_type",{get:function(){return"tuple"},enumerable:!1}),Object.defineProperty(e,"_isPython",{get:function(){return!0},enumerable:!1}),Object.defineProperty(e,"count",{value:function(e){for(var t=0,n=0;n<this.length;n++)this[n]===e&&t++;return t},enumerable:!1}),Object.defineProperty(e,"equals",{value:function(e){try{if(this.length!==e.length)return!1;for(var t=0;t<this.length;t++)if(this[t].hasOwnProperty("equals")){if(!this[t].equals(e[t]))return!1}else if(this[t]!==e[t])return!1;return!0}catch(e){}return!1},enumerable:!1}),Object.defineProperty(e,"index",{value:function(e){return this.indexOf(e)},enumerable:!1}),Object.defineProperty(e,"indexOf",{value:function(e,t){try{for(var n=t||0;n<this.length;n++)if(this[n].hasOwnProperty("equals")){if(this[n].equals(e))return n}else if(this[n]===e)return n}catch(e){}return-1},enumerable:!1}),Object.defineProperty(e,"_pySlice",{value:function(e,t,n){return pythonRuntime.internal.slice(this,e,t,n)},enumerable:!1}),Object.defineProperty(e,"toString",{value:function(){var e="("+this.join(", ");return 1===this.length&&(e+=","),e+=")"},enumerable:!1}),e}},functions:{abs:function(e){return Math.abs(e)},all:function(e){for(var t in e)if(!0!==pythonRuntime.functions.bool(e[t]))return!1;return!0},any:function(e){for(var t in e)if(!0===pythonRuntime.functions.bool(e[t]))return!0;return!1},ascii:function(e){for(var t,n=pythonRuntime.functions.repr(e),r="",o=0;o<n.length;o++)(t=n.charCodeAt(o))<=127?r+=n[o]:t<=255?r+="\\x"+t.toString(16):55296<=t&&t<=56319?r+="\\U"+("000"+(t=1024*(t-55296)+(n.charCodeAt(++o)-56320)+65536).toString(16)).slice(-8):t<=65535?r+="\\u"+("0"+t.toString(16)).slice(-4):t<=1114111&&(r+="\\U"+("000"+t.toString(16)).slice(-8));return r},bool:function(e){return!(null==e||!1===e||0===e||0===e.length||void 0!==e.__bool__&&!1===e.__bool__()||void 0!==e.__len__&&(!1===e.__len__()||0===e.__len__()))},chr:function(e){return String.fromCharCode(e)},divmod:function(e,t){return pythonRuntime.objects.tuple(Math.floor(e/t),e%t)},enumerate:function(e,t){t=t||0;var n=new pythonRuntime.objects.list;for(var r in e)n.push(new pythonRuntime.objects.tuple(t++,e[r]));return n},filter:function(e,t){e=e||function(){return!0};var n=new pythonRuntime.objects.list;for(var r in t)e(t[r])&&n.push(t[r]);return n},float:function(e){return void 0===e?0:"string"==typeof e?(e=e.trim().toLowerCase(),null!==/^[+-]?inf(inity)?$/i.exec(e)?1/0*("-"===e[0]?-1:1):null!==/^nan$/i.exec(e)?NaN:parseFloat(e)):"number"==typeof e?e:void 0!==e.__float__?e.__float__():null},hex:function(e){return e.toString(16)},int:function(e){return parseInt(e)},len:function(e){return e.length},list:function(e){var t=new pythonRuntime.objects.list;if(e instanceof Array)for(var n in e)t.push(e[n]);else for(var n in e)t.push(n);return t},map:function(e,t){var n=new pythonRuntime.objects.list;for(var r in t)n.push(e(t[r]));return n},max:function(e,t){if(t)return e>=t?e:t;var n=null;for(var r in e)(null===n||e[r]>n)&&(n=e[r]);return n},min:function(e,t){if(t)return e<=t?e:t;var n=null;for(var r in e)(null===n||e[r]<n)&&(n=e[r]);return n},oct:function(e){return e.toString(8)},ord:function(e){return e.charCodeAt(0)},pow:function(e,t,n){return n?Math.pow(e,t)%n:Math.pow(e,t)},print:function(){for(var e="",t=0;t<arguments.length;t++)e+=0===t?arguments[t]:" "+arguments[t];console.log(e)},range:function(e,t,n){void 0===t?(t=e,e=0,n=1):void 0===n&&(n=1);var r=new Array(~~((t-e)/n)),o=0;if(e<t&&n>0||e>t&&n<0)for(var a=e;a<t&&n>0||a>t&&n<0;)r[o++]=a,a+=n;return pythonRuntime.utils.convertToList(r),r},repr:function(e){return"string"==typeof e?"'"+e+"'":void 0!==e.__repr__?e.__repr__():void 0!==e.__class__&&void 0!==e.__class__.module&&e.__class__.__name__?"<"+e.__class__.__module__+"."+e.__class__.__name__+" object>":e.toString()},reversed:function(e){var t=new pythonRuntime.objects.list;for(var n in e)t.push(e[n]);return t.reverse()},round:function(e,t){if(t){var n=Math.pow(10,t);return Math.round(e*n)/n}return Math.round(e)},sorted:function(e,t,n){var r=new pythonRuntime.objects.list;for(var o in e)r.push(e[o]);return t?r.sort(t):r.sort(),n&&r.reverse(),r},str:function(e){return e.toString()},sum:function(e,t){var n=t||0;for(var r in e)n+=e[r];return n},tuple:function(e){var t=new pythonRuntime.objects.tuple;for(var n in e)t.push(e[n]);return t}},imports:{random:{random:function(){return Math.random()}}}};function parseDocumentationString(e){var t=startNode();return t.value=e.value,finishNode(t,"Block")}function parseImport(e){var t=startNode(),n=startNode();startNode(),startNode(),startNode();return finishNode(n,"VariableDeclarator"),finishNode(t,"VariableDeclaration"),t}function PythonDict(){}Object.defineProperties(PythonDict.prototype,pythonRuntime.utils.dictPropertyDescriptor);