
<h1>10.2.8 Maximum Iterations</h1>

        <code id="source">
            import java.util.*;

            public class BinarySearchTest {
            
                static int count;
            
                public static void main(String[] args) {
                    
                    // Use the helper code to generate arrays, calculate the max
                    // iterations, and then find the actual iterations for a randomly
                    // selected value.
                    
                    
                    
                    System.out.println("Array Size: 100");
                    System.out.println("Max iterations: " + binaryMax(100));
                    System.out.println("Actual iterations: " + binaryRec(generateArrayOfLength(100), 2, 0, 99));
                    
                    System.out.println("Array Size: 1000");
                    System.out.println("Max iterations: " + binaryMax(1000));
                    System.out.println("Actual iterations: " + binaryRec(generateArrayOfLength(1000), 2, 0, 999));
                    
                    System.out.println("Array Size: 10000");
                    System.out.println("Max iterations: " + binaryMax(10000));
                    System.out.println("Actual iterations: " + binaryRec(generateArrayOfLength(10000), 2, 0, 9999));
                    
                    System.out.println("Array Size: 100000");
                    System.out.println("Max iterations: " + binaryMax(100000));
                    System.out.println("Actual iterations: " + binaryRec(generateArrayOfLength(100000), 2, 0, 99999));
             
                }
            
                public static int binaryRec(int[] array, int target, int begin, int end) {
                    if (begin &lt;= end)
                    {
                        int mid = (begin + end) / 2;
                        int midVal = array[mid];
                        count ++;
                        // Base Case
                        if (target == midVal) {
                                return mid;
                        }
                
                        if (target &lt; midVal) {
                            return binaryRec(array, target, begin, mid - 1);
                        }
                
                        if (target &gt; midVal) {
                            return binaryRec(array, target, mid + 1, end);
                        }
                    }
                    return -1; //Alternate Base Case - not found
                }
            
                public static int[] generateArrayOfLength(int length)
                {
                    int[] arr = new int[length];
                    for(int i = 0; i &lt; length; i++)
                    {
                        arr[i] = (int)(Math.random() * 100);
                    }
            
                    Arrays.sort(arr);
            
                    return arr;
                }
            
                private static int binaryMax(int length) {
                    return (int) (Math.log(length) / Math.log(2)) + 1;
                }
            }
            
        </code>
    <script type="dct-datascript" class="preparsedcode-datascript">window.__preparsed = {"source":{"type":"CompilationUnit","types":[{"type":"TypeDeclaration","name":{"identifier":"BinarySearchTest","type":"SimpleName"},"superInterfaceTypes":[],"superclassType":null,"bodyDeclarations":{"type":"Block","statements":[{"type":"FieldDeclaration","fragments":[{"type":"VariableDeclarationFragment","name":{"identifier":"count","type":"SimpleName"},"extraDimensions":0,"initializer":null}],"typeType":{"type":"PrimitiveType","primitiveTypeCode":"int"},"modifiers":[{"type":"Modifier","keyword":"static"}]},{"parameters":[{"type":"SingleVariableDeclaration","name":{"identifier":"args","type":"SimpleName"},"extraDimensions":0,"typeType":{"type":"ArrayType","componentType":{"type":"SimpleType","name":{"identifier":"String","type":"SimpleName"}}},"modifiers":[],"varargs":false,"initializer":null}],"thrownExceptions":[],"body":{"type":"Block","statements":[{"type":"ExpressionStatement","expression":{"name":{"identifier":"println","type":"SimpleName"},"expression":{"type":"QualifiedName","qualifier":{"identifier":"System","type":"SimpleName"},"name":{"identifier":"out","type":"SimpleName"}},"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"Array Size: 100\""}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"println","type":"SimpleName"},"expression":{"type":"QualifiedName","qualifier":{"identifier":"System","type":"SimpleName"},"name":{"identifier":"out","type":"SimpleName"}},"type":"MethodInvocation","arguments":[{"type":"InfixExpression","operator":"+","leftOperand":{"type":"StringLiteral","escapedValue":"\"Max iterations: \""},"rightOperand":{"name":{"identifier":"binaryMax","type":"SimpleName"},"expression":null,"type":"MethodInvocation","arguments":[{"type":"NumberLiteral","token":"100"}],"typeArguments":[]}}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"println","type":"SimpleName"},"expression":{"type":"QualifiedName","qualifier":{"identifier":"System","type":"SimpleName"},"name":{"identifier":"out","type":"SimpleName"}},"type":"MethodInvocation","arguments":[{"type":"InfixExpression","operator":"+","leftOperand":{"type":"StringLiteral","escapedValue":"\"Actual iterations: \""},"rightOperand":{"name":{"identifier":"binaryRec","type":"SimpleName"},"expression":null,"type":"MethodInvocation","arguments":[{"name":{"identifier":"generateArrayOfLength","type":"SimpleName"},"expression":null,"type":"MethodInvocation","arguments":[{"type":"NumberLiteral","token":"100"}],"typeArguments":[]},{"type":"NumberLiteral","token":"2"},{"type":"NumberLiteral","token":"0"},{"type":"NumberLiteral","token":"99"}],"typeArguments":[]}}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"println","type":"SimpleName"},"expression":{"type":"QualifiedName","qualifier":{"identifier":"System","type":"SimpleName"},"name":{"identifier":"out","type":"SimpleName"}},"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"Array Size: 1000\""}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"println","type":"SimpleName"},"expression":{"type":"QualifiedName","qualifier":{"identifier":"System","type":"SimpleName"},"name":{"identifier":"out","type":"SimpleName"}},"type":"MethodInvocation","arguments":[{"type":"InfixExpression","operator":"+","leftOperand":{"type":"StringLiteral","escapedValue":"\"Max iterations: \""},"rightOperand":{"name":{"identifier":"binaryMax","type":"SimpleName"},"expression":null,"type":"MethodInvocation","arguments":[{"type":"NumberLiteral","token":"1000"}],"typeArguments":[]}}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"println","type":"SimpleName"},"expression":{"type":"QualifiedName","qualifier":{"identifier":"System","type":"SimpleName"},"name":{"identifier":"out","type":"SimpleName"}},"type":"MethodInvocation","arguments":[{"type":"InfixExpression","operator":"+","leftOperand":{"type":"StringLiteral","escapedValue":"\"Actual iterations: \""},"rightOperand":{"name":{"identifier":"binaryRec","type":"SimpleName"},"expression":null,"type":"MethodInvocation","arguments":[{"name":{"identifier":"generateArrayOfLength","type":"SimpleName"},"expression":null,"type":"MethodInvocation","arguments":[{"type":"NumberLiteral","token":"1000"}],"typeArguments":[]},{"type":"NumberLiteral","token":"2"},{"type":"NumberLiteral","token":"0"},{"type":"NumberLiteral","token":"999"}],"typeArguments":[]}}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"println","type":"SimpleName"},"expression":{"type":"QualifiedName","qualifier":{"identifier":"System","type":"SimpleName"},"name":{"identifier":"out","type":"SimpleName"}},"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"Array Size: 10000\""}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"println","type":"SimpleName"},"expression":{"type":"QualifiedName","qualifier":{"identifier":"System","type":"SimpleName"},"name":{"identifier":"out","type":"SimpleName"}},"type":"MethodInvocation","arguments":[{"type":"InfixExpression","operator":"+","leftOperand":{"type":"StringLiteral","escapedValue":"\"Max iterations: \""},"rightOperand":{"name":{"identifier":"binaryMax","type":"SimpleName"},"expression":null,"type":"MethodInvocation","arguments":[{"type":"NumberLiteral","token":"10000"}],"typeArguments":[]}}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"println","type":"SimpleName"},"expression":{"type":"QualifiedName","qualifier":{"identifier":"System","type":"SimpleName"},"name":{"identifier":"out","type":"SimpleName"}},"type":"MethodInvocation","arguments":[{"type":"InfixExpression","operator":"+","leftOperand":{"type":"StringLiteral","escapedValue":"\"Actual iterations: \""},"rightOperand":{"name":{"identifier":"binaryRec","type":"SimpleName"},"expression":null,"type":"MethodInvocation","arguments":[{"name":{"identifier":"generateArrayOfLength","type":"SimpleName"},"expression":null,"type":"MethodInvocation","arguments":[{"type":"NumberLiteral","token":"10000"}],"typeArguments":[]},{"type":"NumberLiteral","token":"2"},{"type":"NumberLiteral","token":"0"},{"type":"NumberLiteral","token":"9999"}],"typeArguments":[]}}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"println","type":"SimpleName"},"expression":{"type":"QualifiedName","qualifier":{"identifier":"System","type":"SimpleName"},"name":{"identifier":"out","type":"SimpleName"}},"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"Array Size: 100000\""}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"println","type":"SimpleName"},"expression":{"type":"QualifiedName","qualifier":{"identifier":"System","type":"SimpleName"},"name":{"identifier":"out","type":"SimpleName"}},"type":"MethodInvocation","arguments":[{"type":"InfixExpression","operator":"+","leftOperand":{"type":"StringLiteral","escapedValue":"\"Max iterations: \""},"rightOperand":{"name":{"identifier":"binaryMax","type":"SimpleName"},"expression":null,"type":"MethodInvocation","arguments":[{"type":"NumberLiteral","token":"100000"}],"typeArguments":[]}}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"println","type":"SimpleName"},"expression":{"type":"QualifiedName","qualifier":{"identifier":"System","type":"SimpleName"},"name":{"identifier":"out","type":"SimpleName"}},"type":"MethodInvocation","arguments":[{"type":"InfixExpression","operator":"+","leftOperand":{"type":"StringLiteral","escapedValue":"\"Actual iterations: \""},"rightOperand":{"name":{"identifier":"binaryRec","type":"SimpleName"},"expression":null,"type":"MethodInvocation","arguments":[{"name":{"identifier":"generateArrayOfLength","type":"SimpleName"},"expression":null,"type":"MethodInvocation","arguments":[{"type":"NumberLiteral","token":"100000"}],"typeArguments":[]},{"type":"NumberLiteral","token":"2"},{"type":"NumberLiteral","token":"0"},{"type":"NumberLiteral","token":"99999"}],"typeArguments":[]}}],"typeArguments":[]}}]},"extraDimensions":0,"typeParameters":[],"type":"MethodDeclaration","returnType2":{"type":"PrimitiveType","primitiveTypeCode":"void"},"name":{"identifier":"main","type":"SimpleName"},"constructor":false,"modifiers":[{"type":"Modifier","keyword":"public"},{"type":"Modifier","keyword":"static"}]},{"parameters":[{"type":"SingleVariableDeclaration","name":{"identifier":"array","type":"SimpleName"},"extraDimensions":0,"typeType":{"type":"ArrayType","componentType":{"type":"PrimitiveType","primitiveTypeCode":"int"}},"modifiers":[],"varargs":false,"initializer":null},{"type":"SingleVariableDeclaration","name":{"identifier":"target","type":"SimpleName"},"extraDimensions":0,"typeType":{"type":"PrimitiveType","primitiveTypeCode":"int"},"modifiers":[],"varargs":false,"initializer":null},{"type":"SingleVariableDeclaration","name":{"identifier":"begin","type":"SimpleName"},"extraDimensions":0,"typeType":{"type":"PrimitiveType","primitiveTypeCode":"int"},"modifiers":[],"varargs":false,"initializer":null},{"type":"SingleVariableDeclaration","name":{"identifier":"end","type":"SimpleName"},"extraDimensions":0,"typeType":{"type":"PrimitiveType","primitiveTypeCode":"int"},"modifiers":[],"varargs":false,"initializer":null}],"thrownExceptions":[],"extraDimensions":0,"body":{"type":"Block","statements":[{"type":"IfStatement","elseStatement":null,"thenStatement":{"type":"Block","statements":[{"type":"VariableDeclarationStatement","fragments":[{"type":"VariableDeclarationFragment","name":{"identifier":"mid","type":"SimpleName"},"extraDimensions":0,"initializer":{"type":"InfixExpression","operator":"/","leftOperand":{"type":"ParenthesizedExpression","expression":{"type":"InfixExpression","operator":"+","leftOperand":{"identifier":"begin","type":"SimpleName"},"rightOperand":{"identifier":"end","type":"SimpleName"}}},"rightOperand":{"type":"NumberLiteral","token":"2"}}}],"modifiers":[],"typeType":{"type":"PrimitiveType","primitiveTypeCode":"int"}},{"type":"VariableDeclarationStatement","fragments":[{"type":"VariableDeclarationFragment","name":{"identifier":"midVal","type":"SimpleName"},"extraDimensions":0,"initializer":{"type":"ArrayAccess","array":{"identifier":"array","type":"SimpleName"},"index":{"identifier":"mid","type":"SimpleName"}}}],"modifiers":[],"typeType":{"type":"PrimitiveType","primitiveTypeCode":"int"}},{"type":"ExpressionStatement","expression":{"type":"PostfixExpression","operator":"++","operand":{"identifier":"count","type":"SimpleName"}}},{"type":"IfStatement","elseStatement":null,"thenStatement":{"type":"Block","statements":[{"type":"ReturnStatement","expression":{"identifier":"mid","type":"SimpleName"}}]},"expression":{"type":"InfixExpression","operator":"==","leftOperand":{"identifier":"target","type":"SimpleName"},"rightOperand":{"identifier":"midVal","type":"SimpleName"}}},{"type":"IfStatement","elseStatement":null,"thenStatement":{"type":"Block","statements":[{"type":"ReturnStatement","expression":{"name":{"identifier":"binaryRec","type":"SimpleName"},"expression":null,"type":"MethodInvocation","arguments":[{"identifier":"array","type":"SimpleName"},{"identifier":"target","type":"SimpleName"},{"identifier":"begin","type":"SimpleName"},{"type":"InfixExpression","operator":"-","leftOperand":{"identifier":"mid","type":"SimpleName"},"rightOperand":{"type":"NumberLiteral","token":"1"}}],"typeArguments":[]}}]},"expression":{"type":"InfixExpression","operator":"<","leftOperand":{"identifier":"target","type":"SimpleName"},"rightOperand":{"identifier":"midVal","type":"SimpleName"}}},{"type":"IfStatement","elseStatement":null,"thenStatement":{"type":"Block","statements":[{"type":"ReturnStatement","expression":{"name":{"identifier":"binaryRec","type":"SimpleName"},"expression":null,"type":"MethodInvocation","arguments":[{"identifier":"array","type":"SimpleName"},{"identifier":"target","type":"SimpleName"},{"type":"InfixExpression","operator":"+","leftOperand":{"identifier":"mid","type":"SimpleName"},"rightOperand":{"type":"NumberLiteral","token":"1"}},{"identifier":"end","type":"SimpleName"}],"typeArguments":[]}}]},"expression":{"type":"InfixExpression","operator":">","leftOperand":{"identifier":"target","type":"SimpleName"},"rightOperand":{"identifier":"midVal","type":"SimpleName"}}}]},"expression":{"type":"InfixExpression","operator":"<=","leftOperand":{"identifier":"begin","type":"SimpleName"},"rightOperand":{"identifier":"end","type":"SimpleName"}}},{"type":"ReturnStatement","expression":{"type":"PrefixExpression","operator":"-","operand":{"type":"NumberLiteral","token":"1"}}}]},"constructor":false,"type":"MethodDeclaration","returnType2":{"type":"PrimitiveType","primitiveTypeCode":"int"},"name":{"identifier":"binaryRec","type":"SimpleName"},"typeParameters":[],"modifiers":[{"type":"Modifier","keyword":"public"},{"type":"Modifier","keyword":"static"}]},{"parameters":[{"type":"SingleVariableDeclaration","name":{"identifier":"length","type":"SimpleName"},"extraDimensions":0,"typeType":{"type":"PrimitiveType","primitiveTypeCode":"int"},"modifiers":[],"varargs":false,"initializer":null}],"thrownExceptions":[],"extraDimensions":0,"body":{"type":"Block","statements":[{"type":"VariableDeclarationStatement","fragments":[{"type":"VariableDeclarationFragment","name":{"identifier":"arr","type":"SimpleName"},"extraDimensions":0,"initializer":{"type":"ArrayCreation","typeType":{"type":"ArrayType","componentType":{"type":"PrimitiveType","primitiveTypeCode":"int"}},"initializer":null,"dimensions":[{"identifier":"length","type":"SimpleName"}]}}],"modifiers":[],"typeType":{"type":"ArrayType","componentType":{"type":"PrimitiveType","primitiveTypeCode":"int"}}},{"type":"ForStatement","initializers":[{"type":"VariableDeclarationExpression","modifiers":[],"fragments":[{"type":"VariableDeclarationFragment","name":{"identifier":"i","type":"SimpleName"},"extraDimensions":0,"initializer":{"type":"NumberLiteral","token":"0"}}],"typeType":{"type":"PrimitiveType","primitiveTypeCode":"int"}}],"expression":{"type":"InfixExpression","operator":"<","leftOperand":{"identifier":"i","type":"SimpleName"},"rightOperand":{"identifier":"length","type":"SimpleName"}},"updaters":[{"type":"PostfixExpression","operator":"++","operand":{"identifier":"i","type":"SimpleName"}}],"body":{"type":"Block","statements":[{"type":"ExpressionStatement","expression":{"type":"Assignment","operator":"=","leftHandSide":{"type":"ArrayAccess","array":{"identifier":"arr","type":"SimpleName"},"index":{"identifier":"i","type":"SimpleName"}},"rightHandSide":{"type":"CastExpression","typeType":{"type":"PrimitiveType","primitiveTypeCode":"int"},"expression":{"type":"ParenthesizedExpression","expression":{"type":"InfixExpression","operator":"*","leftOperand":{"name":{"identifier":"random","type":"SimpleName"},"expression":{"identifier":"Math","type":"SimpleName"},"type":"MethodInvocation","arguments":[],"typeArguments":[]},"rightOperand":{"type":"NumberLiteral","token":"100"}}}}}}]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"sort","type":"SimpleName"},"expression":{"identifier":"Arrays","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"identifier":"arr","type":"SimpleName"}],"typeArguments":[]}},{"type":"ReturnStatement","expression":{"identifier":"arr","type":"SimpleName"}}]},"constructor":false,"type":"MethodDeclaration","returnType2":{"type":"ArrayType","componentType":{"type":"PrimitiveType","primitiveTypeCode":"int"}},"name":{"identifier":"generateArrayOfLength","type":"SimpleName"},"typeParameters":[],"modifiers":[{"type":"Modifier","keyword":"public"},{"type":"Modifier","keyword":"static"}]},{"parameters":[{"type":"SingleVariableDeclaration","name":{"identifier":"length","type":"SimpleName"},"extraDimensions":0,"typeType":{"type":"PrimitiveType","primitiveTypeCode":"int"},"modifiers":[],"varargs":false,"initializer":null}],"thrownExceptions":[],"extraDimensions":0,"body":{"type":"Block","statements":[{"type":"ReturnStatement","expression":{"type":"InfixExpression","operator":"+","leftOperand":{"type":"CastExpression","typeType":{"type":"PrimitiveType","primitiveTypeCode":"int"},"expression":{"type":"ParenthesizedExpression","expression":{"type":"InfixExpression","operator":"/","leftOperand":{"name":{"identifier":"log","type":"SimpleName"},"expression":{"identifier":"Math","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"identifier":"length","type":"SimpleName"}],"typeArguments":[]},"rightOperand":{"name":{"identifier":"log","type":"SimpleName"},"expression":{"identifier":"Math","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"type":"NumberLiteral","token":"2"}],"typeArguments":[]}}}},"rightOperand":{"type":"NumberLiteral","token":"1"}}}]},"constructor":false,"type":"MethodDeclaration","returnType2":{"type":"PrimitiveType","primitiveTypeCode":"int"},"name":{"identifier":"binaryMax","type":"SimpleName"},"typeParameters":[],"modifiers":[{"type":"Modifier","keyword":"private"},{"type":"Modifier","keyword":"static"}]}]},"typeParameters":[],"interface":false,"modifiers":[{"type":"Modifier","keyword":"public"}]}],"package":null,"imports":[{"type":"ImportDeclaration","name":{"type":"QualifiedName","qualifier":{"identifier":"java","type":"SimpleName"},"name":{"identifier":"util","type":"SimpleName"}},"static":false,"onDemand":true}]}};</script>