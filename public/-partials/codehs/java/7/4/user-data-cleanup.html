
<h1>7.4.9 User Data Cleanup</h1>

<code id="source">
    import java.util.ArrayList;

public class DataPurgeTester
{
    public static void main(String[] args)
    {
        ArrayList&lt;String&gt; emails = new ArrayList&lt;String&gt;();
        addEmails(emails);
        System.out.println("List is all emails: " +DataPurge.containsOnlyEmails(emails));
        DataPurge.removeDuplicates(emails);
        DataPurge.removeAOL(emails);
        System.out.println(emails);
    }
    
    
    
    public static void addEmails(ArrayList&lt;String&gt; emails)
    {
        emails.add("tbmaddux@icloud.com");
        emails.add("rfisher@outlook.com");
        emails.add("anicolao@verizon.net");
        emails.add("openldap@me.com");
        emails.add("improv@gmail.com");
        emails.add("alias@sbcglobal.net");
        emails.add("portele@me.com");
        emails.add("doormat@icloud.com");
        emails.add("mailarc@aol.com");
        emails.add("portele@me.com");
        emails.add("rmcfarla@optonline.net");
        emails.add("chrisk@verizon.net");
        emails.add("gordonjcp@aol.com");
        emails.add("improv@gmail.com");
    }
}

</code>
        <code id="source1">
            import java.util.ArrayList;

            public class DataPurge
            {
                public static void removeDuplicates(ArrayList&lt;String&gt; list) {
                    ArrayList&lt;String&gt; existing = new ArrayList&lt;String&gt;();
                    
                    for(int i = 0; i &lt; list.size(); i++) {
                        String email = list.get(i);
                        if(existing.indexOf(email) != -1) {
                            list.remove(i);
                            i--;
                        }
                        existing.add(email);
                    }
                }
                public static void removeAOL(ArrayList&lt;String&gt; list) {
                    for(int i = 0; i &lt; list.size(); i++) {
                        if(list.get(i).indexOf("@aol.com") &gt; -1) {
                            System.out.println("removing " + list.get(i));
                            list.remove(i);
                            i--;
                        }
                    }
                }
                public static boolean containsOnlyEmails(ArrayList&lt;String&gt; list) {
                    for(int i = 0; i &lt; list.size(); i++) {
                        if(list.get(i).indexOf("@") == -1 || list.get(i).indexOf(".") == -1) return false;
                    }
                    return true;
                }
            }
            
        </code>
    <script type="dct-datascript" class="preparsedcode-datascript">window.__preparsed = {"source":{"type":"CompilationUnit","types":[{"type":"TypeDeclaration","name":{"identifier":"DataPurgeTester","type":"SimpleName"},"superInterfaceTypes":[],"superclassType":null,"bodyDeclarations":{"type":"Block","statements":[{"parameters":[{"type":"SingleVariableDeclaration","name":{"identifier":"args","type":"SimpleName"},"extraDimensions":0,"typeType":{"type":"ArrayType","componentType":{"type":"SimpleType","name":{"identifier":"String","type":"SimpleName"}}},"modifiers":[],"varargs":false,"initializer":null}],"thrownExceptions":[],"body":{"type":"Block","statements":[{"type":"VariableDeclarationStatement","fragments":[{"type":"VariableDeclarationFragment","name":{"identifier":"emails","type":"SimpleName"},"extraDimensions":0,"initializer":{"arguments":[],"anonymousClassDeclaration":null,"type":"ClassInstanceCreation","typeType":{"type":"ParameterizedType","typeType":{"type":"SimpleType","name":{"identifier":"ArrayList","type":"SimpleName"}},"typeArguments":[{"type":"SimpleType","name":{"identifier":"String","type":"SimpleName"}}]},"typeArguments":[],"expression":null}}],"modifiers":[],"typeType":{"type":"ParameterizedType","typeType":{"type":"SimpleType","name":{"identifier":"ArrayList","type":"SimpleName"}},"typeArguments":[{"type":"SimpleType","name":{"identifier":"String","type":"SimpleName"}}]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"addEmails","type":"SimpleName"},"expression":null,"type":"MethodInvocation","arguments":[{"identifier":"emails","type":"SimpleName"}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"println","type":"SimpleName"},"expression":{"type":"QualifiedName","qualifier":{"identifier":"System","type":"SimpleName"},"name":{"identifier":"out","type":"SimpleName"}},"type":"MethodInvocation","arguments":[{"type":"InfixExpression","operator":"+","leftOperand":{"type":"StringLiteral","escapedValue":"\"List is all emails: \""},"rightOperand":{"name":{"identifier":"containsOnlyEmails","type":"SimpleName"},"expression":{"identifier":"DataPurge","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"identifier":"emails","type":"SimpleName"}],"typeArguments":[]}}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"removeDuplicates","type":"SimpleName"},"expression":{"identifier":"DataPurge","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"identifier":"emails","type":"SimpleName"}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"removeAOL","type":"SimpleName"},"expression":{"identifier":"DataPurge","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"identifier":"emails","type":"SimpleName"}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"println","type":"SimpleName"},"expression":{"type":"QualifiedName","qualifier":{"identifier":"System","type":"SimpleName"},"name":{"identifier":"out","type":"SimpleName"}},"type":"MethodInvocation","arguments":[{"identifier":"emails","type":"SimpleName"}],"typeArguments":[]}}]},"extraDimensions":0,"typeParameters":[],"type":"MethodDeclaration","returnType2":{"type":"PrimitiveType","primitiveTypeCode":"void"},"name":{"identifier":"main","type":"SimpleName"},"constructor":false,"modifiers":[{"type":"Modifier","keyword":"public"},{"type":"Modifier","keyword":"static"}]},{"parameters":[{"type":"SingleVariableDeclaration","name":{"identifier":"emails","type":"SimpleName"},"extraDimensions":0,"typeType":{"type":"ParameterizedType","typeType":{"type":"SimpleType","name":{"identifier":"ArrayList","type":"SimpleName"}},"typeArguments":[{"type":"SimpleType","name":{"identifier":"String","type":"SimpleName"}}]},"modifiers":[],"varargs":false,"initializer":null}],"thrownExceptions":[],"body":{"type":"Block","statements":[{"type":"ExpressionStatement","expression":{"name":{"identifier":"add","type":"SimpleName"},"expression":{"identifier":"emails","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"tbmaddux@icloud.com\""}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"add","type":"SimpleName"},"expression":{"identifier":"emails","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"rfisher@outlook.com\""}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"add","type":"SimpleName"},"expression":{"identifier":"emails","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"anicolao@verizon.net\""}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"add","type":"SimpleName"},"expression":{"identifier":"emails","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"openldap@me.com\""}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"add","type":"SimpleName"},"expression":{"identifier":"emails","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"improv@gmail.com\""}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"add","type":"SimpleName"},"expression":{"identifier":"emails","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"alias@sbcglobal.net\""}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"add","type":"SimpleName"},"expression":{"identifier":"emails","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"portele@me.com\""}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"add","type":"SimpleName"},"expression":{"identifier":"emails","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"doormat@icloud.com\""}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"add","type":"SimpleName"},"expression":{"identifier":"emails","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"mailarc@aol.com\""}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"add","type":"SimpleName"},"expression":{"identifier":"emails","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"portele@me.com\""}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"add","type":"SimpleName"},"expression":{"identifier":"emails","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"rmcfarla@optonline.net\""}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"add","type":"SimpleName"},"expression":{"identifier":"emails","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"chrisk@verizon.net\""}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"add","type":"SimpleName"},"expression":{"identifier":"emails","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"gordonjcp@aol.com\""}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"add","type":"SimpleName"},"expression":{"identifier":"emails","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"improv@gmail.com\""}],"typeArguments":[]}}]},"extraDimensions":0,"typeParameters":[],"type":"MethodDeclaration","returnType2":{"type":"PrimitiveType","primitiveTypeCode":"void"},"name":{"identifier":"addEmails","type":"SimpleName"},"constructor":false,"modifiers":[{"type":"Modifier","keyword":"public"},{"type":"Modifier","keyword":"static"}]}]},"typeParameters":[],"interface":false,"modifiers":[{"type":"Modifier","keyword":"public"}]}],"package":null,"imports":[{"type":"ImportDeclaration","name":{"type":"QualifiedName","qualifier":{"type":"QualifiedName","qualifier":{"identifier":"java","type":"SimpleName"},"name":{"identifier":"util","type":"SimpleName"}},"name":{"identifier":"ArrayList","type":"SimpleName"}},"static":false,"onDemand":false}]},"source1":{"type":"CompilationUnit","types":[{"type":"TypeDeclaration","name":{"identifier":"DataPurge","type":"SimpleName"},"superInterfaceTypes":[],"superclassType":null,"bodyDeclarations":{"type":"Block","statements":[{"parameters":[{"type":"SingleVariableDeclaration","name":{"identifier":"list","type":"SimpleName"},"extraDimensions":0,"typeType":{"type":"ParameterizedType","typeType":{"type":"SimpleType","name":{"identifier":"ArrayList","type":"SimpleName"}},"typeArguments":[{"type":"SimpleType","name":{"identifier":"String","type":"SimpleName"}}]},"modifiers":[],"varargs":false,"initializer":null}],"thrownExceptions":[],"body":{"type":"Block","statements":[{"type":"VariableDeclarationStatement","fragments":[{"type":"VariableDeclarationFragment","name":{"identifier":"existing","type":"SimpleName"},"extraDimensions":0,"initializer":{"arguments":[],"anonymousClassDeclaration":null,"type":"ClassInstanceCreation","typeType":{"type":"ParameterizedType","typeType":{"type":"SimpleType","name":{"identifier":"ArrayList","type":"SimpleName"}},"typeArguments":[{"type":"SimpleType","name":{"identifier":"String","type":"SimpleName"}}]},"typeArguments":[],"expression":null}}],"modifiers":[],"typeType":{"type":"ParameterizedType","typeType":{"type":"SimpleType","name":{"identifier":"ArrayList","type":"SimpleName"}},"typeArguments":[{"type":"SimpleType","name":{"identifier":"String","type":"SimpleName"}}]}},{"type":"ForStatement","initializers":[{"type":"VariableDeclarationExpression","modifiers":[],"fragments":[{"type":"VariableDeclarationFragment","name":{"identifier":"i","type":"SimpleName"},"extraDimensions":0,"initializer":{"type":"NumberLiteral","token":"0"}}],"typeType":{"type":"PrimitiveType","primitiveTypeCode":"int"}}],"expression":{"type":"InfixExpression","operator":"<","leftOperand":{"identifier":"i","type":"SimpleName"},"rightOperand":{"name":{"identifier":"size","type":"SimpleName"},"expression":{"identifier":"list","type":"SimpleName"},"type":"MethodInvocation","arguments":[],"typeArguments":[]}},"updaters":[{"type":"PostfixExpression","operator":"++","operand":{"identifier":"i","type":"SimpleName"}}],"body":{"type":"Block","statements":[{"type":"VariableDeclarationStatement","fragments":[{"type":"VariableDeclarationFragment","name":{"identifier":"email","type":"SimpleName"},"extraDimensions":0,"initializer":{"name":{"identifier":"get","type":"SimpleName"},"expression":{"identifier":"list","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"identifier":"i","type":"SimpleName"}],"typeArguments":[]}}],"modifiers":[],"typeType":{"type":"SimpleType","name":{"identifier":"String","type":"SimpleName"}}},{"type":"IfStatement","elseStatement":null,"thenStatement":{"type":"Block","statements":[{"type":"ExpressionStatement","expression":{"name":{"identifier":"remove","type":"SimpleName"},"expression":{"identifier":"list","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"identifier":"i","type":"SimpleName"}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"type":"PostfixExpression","operator":"--","operand":{"identifier":"i","type":"SimpleName"}}}]},"expression":{"type":"InfixExpression","operator":"!=","leftOperand":{"name":{"identifier":"indexOf","type":"SimpleName"},"expression":{"identifier":"existing","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"identifier":"email","type":"SimpleName"}],"typeArguments":[]},"rightOperand":{"type":"PrefixExpression","operator":"-","operand":{"type":"NumberLiteral","token":"1"}}}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"add","type":"SimpleName"},"expression":{"identifier":"existing","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"identifier":"email","type":"SimpleName"}],"typeArguments":[]}}]}}]},"extraDimensions":0,"typeParameters":[],"type":"MethodDeclaration","returnType2":{"type":"PrimitiveType","primitiveTypeCode":"void"},"name":{"identifier":"removeDuplicates","type":"SimpleName"},"constructor":false,"modifiers":[{"type":"Modifier","keyword":"public"},{"type":"Modifier","keyword":"static"}]},{"parameters":[{"type":"SingleVariableDeclaration","name":{"identifier":"list","type":"SimpleName"},"extraDimensions":0,"typeType":{"type":"ParameterizedType","typeType":{"type":"SimpleType","name":{"identifier":"ArrayList","type":"SimpleName"}},"typeArguments":[{"type":"SimpleType","name":{"identifier":"String","type":"SimpleName"}}]},"modifiers":[],"varargs":false,"initializer":null}],"thrownExceptions":[],"body":{"type":"Block","statements":[{"type":"ForStatement","initializers":[{"type":"VariableDeclarationExpression","modifiers":[],"fragments":[{"type":"VariableDeclarationFragment","name":{"identifier":"i","type":"SimpleName"},"extraDimensions":0,"initializer":{"type":"NumberLiteral","token":"0"}}],"typeType":{"type":"PrimitiveType","primitiveTypeCode":"int"}}],"expression":{"type":"InfixExpression","operator":"<","leftOperand":{"identifier":"i","type":"SimpleName"},"rightOperand":{"name":{"identifier":"size","type":"SimpleName"},"expression":{"identifier":"list","type":"SimpleName"},"type":"MethodInvocation","arguments":[],"typeArguments":[]}},"updaters":[{"type":"PostfixExpression","operator":"++","operand":{"identifier":"i","type":"SimpleName"}}],"body":{"type":"Block","statements":[{"type":"IfStatement","elseStatement":null,"thenStatement":{"type":"Block","statements":[{"type":"ExpressionStatement","expression":{"name":{"identifier":"println","type":"SimpleName"},"expression":{"type":"QualifiedName","qualifier":{"identifier":"System","type":"SimpleName"},"name":{"identifier":"out","type":"SimpleName"}},"type":"MethodInvocation","arguments":[{"type":"InfixExpression","operator":"+","leftOperand":{"type":"StringLiteral","escapedValue":"\"removing \""},"rightOperand":{"name":{"identifier":"get","type":"SimpleName"},"expression":{"identifier":"list","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"identifier":"i","type":"SimpleName"}],"typeArguments":[]}}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"name":{"identifier":"remove","type":"SimpleName"},"expression":{"identifier":"list","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"identifier":"i","type":"SimpleName"}],"typeArguments":[]}},{"type":"ExpressionStatement","expression":{"type":"PostfixExpression","operator":"--","operand":{"identifier":"i","type":"SimpleName"}}}]},"expression":{"type":"InfixExpression","operator":">","leftOperand":{"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"@aol.com\""}],"name":{"identifier":"indexOf","type":"SimpleName"},"typeArguments":[],"expression":{"name":{"identifier":"get","type":"SimpleName"},"expression":{"identifier":"list","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"identifier":"i","type":"SimpleName"}],"typeArguments":[]}},"rightOperand":{"type":"PrefixExpression","operator":"-","operand":{"type":"NumberLiteral","token":"1"}}}}]}}]},"extraDimensions":0,"typeParameters":[],"type":"MethodDeclaration","returnType2":{"type":"PrimitiveType","primitiveTypeCode":"void"},"name":{"identifier":"removeAOL","type":"SimpleName"},"constructor":false,"modifiers":[{"type":"Modifier","keyword":"public"},{"type":"Modifier","keyword":"static"}]},{"parameters":[{"type":"SingleVariableDeclaration","name":{"identifier":"list","type":"SimpleName"},"extraDimensions":0,"typeType":{"type":"ParameterizedType","typeType":{"type":"SimpleType","name":{"identifier":"ArrayList","type":"SimpleName"}},"typeArguments":[{"type":"SimpleType","name":{"identifier":"String","type":"SimpleName"}}]},"modifiers":[],"varargs":false,"initializer":null}],"thrownExceptions":[],"extraDimensions":0,"body":{"type":"Block","statements":[{"type":"ForStatement","initializers":[{"type":"VariableDeclarationExpression","modifiers":[],"fragments":[{"type":"VariableDeclarationFragment","name":{"identifier":"i","type":"SimpleName"},"extraDimensions":0,"initializer":{"type":"NumberLiteral","token":"0"}}],"typeType":{"type":"PrimitiveType","primitiveTypeCode":"int"}}],"expression":{"type":"InfixExpression","operator":"<","leftOperand":{"identifier":"i","type":"SimpleName"},"rightOperand":{"name":{"identifier":"size","type":"SimpleName"},"expression":{"identifier":"list","type":"SimpleName"},"type":"MethodInvocation","arguments":[],"typeArguments":[]}},"updaters":[{"type":"PostfixExpression","operator":"++","operand":{"identifier":"i","type":"SimpleName"}}],"body":{"type":"Block","statements":[{"type":"IfStatement","elseStatement":null,"thenStatement":{"type":"ReturnStatement","expression":{"type":"BooleanLiteral","booleanValue":false}},"expression":{"type":"InfixExpression","operator":"||","leftOperand":{"type":"InfixExpression","operator":"==","leftOperand":{"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\"@\""}],"name":{"identifier":"indexOf","type":"SimpleName"},"typeArguments":[],"expression":{"name":{"identifier":"get","type":"SimpleName"},"expression":{"identifier":"list","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"identifier":"i","type":"SimpleName"}],"typeArguments":[]}},"rightOperand":{"type":"PrefixExpression","operator":"-","operand":{"type":"NumberLiteral","token":"1"}}},"rightOperand":{"type":"InfixExpression","operator":"==","leftOperand":{"type":"MethodInvocation","arguments":[{"type":"StringLiteral","escapedValue":"\".\""}],"name":{"identifier":"indexOf","type":"SimpleName"},"typeArguments":[],"expression":{"name":{"identifier":"get","type":"SimpleName"},"expression":{"identifier":"list","type":"SimpleName"},"type":"MethodInvocation","arguments":[{"identifier":"i","type":"SimpleName"}],"typeArguments":[]}},"rightOperand":{"type":"PrefixExpression","operator":"-","operand":{"type":"NumberLiteral","token":"1"}}}}}]}},{"type":"ReturnStatement","expression":{"type":"BooleanLiteral","booleanValue":true}}]},"constructor":false,"type":"MethodDeclaration","returnType2":{"type":"PrimitiveType","primitiveTypeCode":"boolean"},"name":{"identifier":"containsOnlyEmails","type":"SimpleName"},"typeParameters":[],"modifiers":[{"type":"Modifier","keyword":"public"},{"type":"Modifier","keyword":"static"}]}]},"typeParameters":[],"interface":false,"modifiers":[{"type":"Modifier","keyword":"public"}]}],"package":null,"imports":[{"type":"ImportDeclaration","name":{"type":"QualifiedName","qualifier":{"type":"QualifiedName","qualifier":{"identifier":"java","type":"SimpleName"},"name":{"identifier":"util","type":"SimpleName"}},"name":{"identifier":"ArrayList","type":"SimpleName"}},"static":false,"onDemand":false}]}};</script>